<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.DeriveComp</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">-v</a> <a id="16" class="Pragma">allTactics:100</a> <a id="31" class="Symbol">#-}</a>
<a id="35" class="Symbol">{-#</a> <a id="39" class="Keyword">OPTIONS</a> <a id="47" class="Pragma">--safe</a> <a id="54" class="Symbol">#-}</a>
<a id="58" class="Keyword">module</a> <a id="65" href="Tactic.DeriveComp.html" class="Module">Tactic.DeriveComp</a> <a id="83" class="Keyword">where</a>

<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Prelude.html" class="Module">Prelude</a>
<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Meta.html" class="Module">Meta</a>

<a id="128" class="Keyword">import</a> <a id="135" href="Reflection.html" class="Module">Reflection</a> <a id="146" class="Symbol">as</a> <a id="149" class="Module">R</a>
<a id="151" class="Keyword">import</a> <a id="158" href="Reflection.AST.Argument.Visibility.html" class="Module">Reflection.AST.Argument.Visibility</a> <a id="193" class="Symbol">as</a> <a id="196" class="Module">Visibility</a>
<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Reflection.AST.DeBruijn.html" class="Module">Reflection.AST.DeBruijn</a>

<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="PreludeImports.html" class="Module">PreludeImports</a>

<a id="272" class="Keyword">import</a> <a id="279" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="298" class="Symbol">as</a> <a id="301" class="Module">NE</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Data.Maybe.Properties.html" class="Module">Data.Maybe.Properties</a> <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Data.Maybe.Properties.html#947" class="Function">just-injective</a><a id="359" class="Symbol">)</a>
<a id="361" class="Keyword">import</a> <a id="368" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a> <a id="382" class="Symbol">as</a> <a id="385" class="Module">ℕ</a>

<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>

<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Tactic.ClauseBuilder.html" class="Module">Tactic.ClauseBuilder</a>
<a id="528" class="Keyword">open</a> <a id="533" class="Keyword">import</a> <a id="540" href="Tactic.Helpers.html" class="Module">Tactic.Helpers</a>
<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="Tactic.ReduceDec.html" class="Module">Tactic.ReduceDec</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Generics.Core.html" class="Module">Generics.Core</a>

<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>
<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="Interface.DecEq.html" class="Module">Interface.DecEq</a>
<a id="683" class="Keyword">open</a> <a id="688" class="Keyword">import</a> <a id="695" href="Interface.Decidable.Instance.html" class="Module">Interface.Decidable.Instance</a>
<a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Interface.HasAdd.html" class="Module">Interface.HasAdd</a>
<a id="753" class="Keyword">open</a> <a id="758" class="Keyword">import</a> <a id="765" href="Interface.HasAdd.Instance.html" class="Module">Interface.HasAdd.Instance</a>

<a id="792" class="Keyword">open</a> <a id="797" class="Keyword">import</a> <a id="804" href="Interface.Monad.Instance.html" class="Module">Interface.Monad.Instance</a>
<a id="829" class="Keyword">open</a> <a id="834" class="Keyword">import</a> <a id="841" href="Interface.MonadReader.Instance.html" class="Module">Interface.MonadReader.Instance</a>
<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="Interface.MonadError.Instance.html" class="Module">Interface.MonadError.Instance</a>
<a id="914" class="Keyword">open</a> <a id="919" class="Keyword">import</a> <a id="926" href="Interface.MonadTC.Instance.html" class="Module">Interface.MonadTC.Instance</a>

<a id="954" class="Keyword">instance</a>
  <a id="965" href="Tactic.DeriveComp.html#965" class="Function">_</a> <a id="967" class="Symbol">=</a> <a id="969" href="Tactic.ClauseBuilder.html#10635" class="Function">ContextMonad-MonadTC</a>

<a id="991" class="Keyword">record</a> <a id="STSConstr"></a><a id="998" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="1008" class="Symbol">:</a> <a id="1010" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1014" class="Keyword">where</a>
  <a id="1022" class="Keyword">field</a>
    <a id="STSConstr.name"></a><a id="1032" href="Tactic.DeriveComp.html#1032" class="Field">name</a>    <a id="1040" class="Symbol">:</a> <a id="1042" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="STSConstr.params"></a><a id="1051" href="Tactic.DeriveComp.html#1051" class="Field">params</a>  <a id="1059" class="Symbol">:</a> <a id="1061" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1066" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1068" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="1072" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1074" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1078" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="STSConstr.clauses"></a><a id="1087" href="Tactic.DeriveComp.html#1087" class="Field">clauses</a> <a id="1095" class="Symbol">:</a> <a id="1097" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1102" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="STSConstr.context"></a><a id="1111" href="Tactic.DeriveComp.html#1111" class="Field">context</a> <a id="1119" class="Symbol">:</a> <a id="1121" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a>
    <a id="STSConstr.state"></a><a id="1133" href="Tactic.DeriveComp.html#1133" class="Field">state</a>   <a id="1141" class="Symbol">:</a> <a id="1143" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a>
    <a id="STSConstr.signal"></a><a id="1155" href="Tactic.DeriveComp.html#1155" class="Field">signal</a>  <a id="1163" class="Symbol">:</a> <a id="1165" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a>
    <a id="STSConstr.result"></a><a id="1177" href="Tactic.DeriveComp.html#1177" class="Field">result</a>  <a id="1185" class="Symbol">:</a> <a id="1187" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>

<a id="conOrVarToPattern"></a><a id="1193" href="Tactic.DeriveComp.html#1193" class="Function">conOrVarToPattern</a> <a id="1211" class="Symbol">:</a> <a id="1213" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1215" class="Symbol">→</a> <a id="1217" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1222" class="Symbol">→</a> <a id="1224" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1230" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a>
<a id="1238" href="Tactic.DeriveComp.html#1193" class="Function">conOrVarToPattern</a> <a id="1256" href="Tactic.DeriveComp.html#1256" class="Bound">k</a> <a id="1258" class="Symbol">(</a><a id="1259" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="1261" href="Tactic.DeriveComp.html#1261" class="Bound">v</a><a id="1262" class="Symbol">)</a> <a id="1264" class="Symbol">=</a> <a id="1266" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1271" class="Symbol">(</a><a id="1272" href="Agda.Builtin.Reflection.html#5584" class="InductiveConstructor">Pattern.var</a> <a id="1284" class="Symbol">(</a><a id="1285" href="Tactic.DeriveComp.html#1261" class="Bound">v</a> <a id="1287" href="Data.Nat.Base.html#3202" class="Primitive Operator">∸</a> <a id="1289" href="Tactic.DeriveComp.html#1256" class="Bound">k</a><a id="1290" class="Symbol">))</a>
<a id="1293" href="Tactic.DeriveComp.html#1193" class="Function">conOrVarToPattern</a> <a id="1311" href="Tactic.DeriveComp.html#1311" class="Bound">k</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="1318" href="Tactic.DeriveComp.html#1318" class="Bound">c</a> <a id="1320" href="Tactic.DeriveComp.html#1320" class="Bound">args</a><a id="1324" class="Symbol">)</a> <a id="1326" class="Symbol">=</a>
  <a id="1330" href="Agda.Builtin.Reflection.html#5491" class="InductiveConstructor">Pattern.con</a> <a id="1342" href="Tactic.DeriveComp.html#1318" class="Bound">c</a> <a id="1344" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Interface.Monad.html#975" class="Function">sequenceList</a> <a id="1362" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1364" href="Tactic.DeriveComp.html#1403" class="Function">conOrVarToPattern′</a> <a id="1383" href="Tactic.DeriveComp.html#1311" class="Bound">k</a> <a id="1385" href="Tactic.DeriveComp.html#1320" class="Bound">args</a><a id="1389" class="Symbol">)</a>
  <a id="1393" class="Keyword">where</a>
    <a id="1403" href="Tactic.DeriveComp.html#1403" class="Function">conOrVarToPattern′</a> <a id="1422" class="Symbol">:</a> <a id="1424" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1426" class="Symbol">→</a> <a id="1428" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1433" class="Symbol">(</a><a id="1434" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1438" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="1442" class="Symbol">)</a> <a id="1444" class="Symbol">→</a> <a id="1446" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1458" class="Symbol">(</a><a id="1459" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1463" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a><a id="1470" class="Symbol">))</a>
    <a id="1477" href="Tactic.DeriveComp.html#1403" class="Function">conOrVarToPattern′</a> <a id="1496" href="Tactic.DeriveComp.html#1496" class="Bound">k</a> <a id="1498" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1501" class="Symbol">=</a> <a id="1503" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="1510" href="Tactic.DeriveComp.html#1403" class="Function">conOrVarToPattern′</a> <a id="1529" href="Tactic.DeriveComp.html#1529" class="Bound">k</a> <a id="1531" class="Symbol">((</a><a id="1533" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="1537" href="Tactic.DeriveComp.html#1537" class="Bound">i</a> <a id="1539" href="Tactic.DeriveComp.html#1539" class="Bound">x</a><a id="1540" class="Symbol">)</a> <a id="1542" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1544" href="Tactic.DeriveComp.html#1544" class="Bound">l</a><a id="1545" class="Symbol">)</a> <a id="1547" class="Symbol">=</a> <a id="1549" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="1553" href="Tactic.DeriveComp.html#1537" class="Bound">i</a> <a id="1555" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="1559" href="Tactic.DeriveComp.html#1193" class="Function">conOrVarToPattern</a> <a id="1577" href="Tactic.DeriveComp.html#1529" class="Bound">k</a> <a id="1579" href="Tactic.DeriveComp.html#1539" class="Bound">x</a> <a id="1581" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1583" href="Tactic.DeriveComp.html#1403" class="Function">conOrVarToPattern′</a> <a id="1602" href="Tactic.DeriveComp.html#1529" class="Bound">k</a> <a id="1604" href="Tactic.DeriveComp.html#1544" class="Bound">l</a>
<a id="1606" href="Tactic.DeriveComp.html#1193" class="CatchallClause Function">conOrVarToPattern</a><a id="1623" class="CatchallClause"> </a><a id="1624" class="CatchallClause Symbol">_</a><a id="1625" class="CatchallClause"> </a><a id="1626" class="CatchallClause Symbol">_</a> <a id="1628" class="Symbol">=</a> <a id="1630" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>

<a id="isArg"></a><a id="1639" href="Tactic.DeriveComp.html#1639" class="Function">isArg</a> <a id="1645" class="Symbol">:</a> <a id="1647" class="Symbol">(</a><a id="1648" href="Tactic.DeriveComp.html#1648" class="Bound">a</a> <a id="1650" class="Symbol">:</a> <a id="1652" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="1656" class="Symbol">(</a><a id="1657" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1661" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="1665" class="Symbol">))</a> <a id="1668" class="Symbol">→</a> <a id="1670" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a> <a id="1674" class="Symbol">_</a>
<a id="1676" href="Tactic.DeriveComp.html#1639" class="Function">isArg</a> <a id="1682" href="Tactic.DeriveComp.html#1682" class="Bound">a</a> <a id="1684" class="Symbol">=</a> <a id="1686" href="Relation.Nullary.Decidable.Core.html#2163" class="Function">¬?</a> <a id="1689" class="Symbol">(</a><a id="1690" href="Generics.Utils.html#1154" class="Function">getVisibility</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Reflection.AST.Abstraction.html#1701" class="Function">unAbs</a> <a id="1711" href="Tactic.DeriveComp.html#1682" class="Bound">a</a><a id="1712" class="Symbol">)</a> <a id="1714" href="Reflection.AST.Argument.Visibility.html#821" class="Function Operator">Visibility.≟</a> <a id="1727" href="Agda.Builtin.Reflection.html#2745" class="InductiveConstructor">visible</a><a id="1734" class="Symbol">)</a>

<a id="toSTSConstr"></a><a id="1737" href="Tactic.DeriveComp.html#1737" class="Function">toSTSConstr</a> <a id="1749" class="Symbol">:</a> <a id="1751" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="1756" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="1758" href="Generics.Utils.html#2580" class="Function">TypeView</a> <a id="1767" class="Symbol">→</a> <a id="1769" href="Reflection.TCI.html#632" class="Function">TC</a> <a id="1772" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a>
<a id="1782" href="Tactic.DeriveComp.html#1737" class="Function">toSTSConstr</a> <a id="1794" class="Symbol">(</a><a id="1795" href="Tactic.DeriveComp.html#1795" class="Bound">n</a> <a id="1797" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1799" class="Symbol">(</a><a id="1800" href="Tactic.DeriveComp.html#1800" class="Bound">cs</a> <a id="1803" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1805" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="1809" class="Symbol">_</a> <a id="1811" href="Tactic.DeriveComp.html#1811" class="Bound">args</a><a id="1815" class="Symbol">))</a> <a id="1818" class="Keyword">with</a> <a id="1823" href="Tactic.DeriveComp.html#1811" class="Bound">args</a> <a id="1828" class="Symbol">|</a> <a id="1830" href="Data.List.Base.html#1691" class="Function">mapMaybe</a> <a id="1839" class="Symbol">(</a><a id="1840" href="Tactic.DeriveComp.html#1193" class="Function">conOrVarToPattern</a> <a id="1858" class="Symbol">(</a><a id="1859" href="Data.List.Base.html#5058" class="Function">length</a> <a id="1866" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1868" href="Data.List.Base.html#11303" class="Function">dropWhile</a> <a id="1878" href="Tactic.DeriveComp.html#1639" class="Function">isArg</a> <a id="1884" href="Tactic.DeriveComp.html#1800" class="Bound">cs</a><a id="1886" class="Symbol">)</a> <a id="1888" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="1890" href="Reflection.AST.Argument.html#2624" class="Function">unArg</a><a id="1895" class="Symbol">)</a> <a id="1897" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="1899" href="Data.List.Base.html#8449" class="Function">take</a> <a id="1904" class="Number">3</a> <a id="1906" href="Tactic.DeriveComp.html#1811" class="Bound">args</a>
<a id="1911" class="Symbol">...</a> <a id="1915" class="Symbol">|</a> <a id="1917" class="Symbol">_</a> <a id="1919" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1921" class="Symbol">_</a> <a id="1923" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1925" class="Symbol">_</a> <a id="1927" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1929" href="Tactic.DeriveComp.html#1929" class="Bound">r</a> <a id="1931" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1933" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1936" class="Symbol">|</a> <a id="1938" href="Tactic.DeriveComp.html#1938" class="Bound">c</a> <a id="1940" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1942" href="Tactic.DeriveComp.html#1942" class="Bound">s</a> <a id="1944" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1946" href="Tactic.DeriveComp.html#1946" class="Bound">sig</a> <a id="1950" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1952" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1955" class="Symbol">=</a>
  <a id="1959" href="Interface.Monad.html#290" class="Field">return</a> <a id="1966" class="Keyword">record</a>
    <a id="1977" class="Symbol">{</a> <a id="1979" href="Tactic.DeriveComp.html#1032" class="Field">name</a> <a id="1984" class="Symbol">=</a> <a id="1986" class="Bound">n</a>
    <a id="1992" class="Symbol">;</a> <a id="1994" href="Tactic.DeriveComp.html#1051" class="Field">params</a> <a id="2001" class="Symbol">=</a> <a id="2003" href="Data.List.Base.html#11203" class="Function">takeWhile</a> <a id="2013" href="Tactic.DeriveComp.html#1639" class="Function">isArg</a> <a id="2019" class="Bound">cs</a>
    <a id="2026" class="Symbol">;</a> <a id="2028" href="Tactic.DeriveComp.html#1087" class="Field">clauses</a> <a id="2036" class="Symbol">=</a> <a id="2038" href="Tactic.Helpers.html#640" class="Function">zipWithIndex</a> <a id="2051" class="Symbol">(λ</a> <a id="2054" href="Tactic.DeriveComp.html#2054" class="Bound">i</a> <a id="2056" class="Symbol">→</a> <a id="2058" href="Generics.Utils.html#5759" class="Function">mapVars</a> <a id="2066" class="Symbol">(</a><a id="2067" href="Data.Nat.Base.html#3202" class="Primitive Operator">_∸</a> <a id="2070" href="Tactic.DeriveComp.html#2054" class="Bound">i</a><a id="2071" class="Symbol">))</a> <a id="2074" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="2076" class="Symbol">(</a><a id="2077" href="Reflection.AST.Argument.html#2624" class="Function">unArg</a> <a id="2083" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="2085" href="Reflection.AST.Abstraction.html#1701" class="Function">unAbs</a><a id="2090" class="Symbol">)</a> <a id="2092" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="2096" href="Data.List.Base.html#11303" class="Function">dropWhile</a> <a id="2106" href="Tactic.DeriveComp.html#1639" class="Function">isArg</a> <a id="2112" class="Bound">cs</a>
    <a id="2119" class="Symbol">;</a> <a id="2121" href="Tactic.DeriveComp.html#1111" class="Field">context</a> <a id="2129" class="Symbol">=</a> <a id="2131" href="Tactic.DeriveComp.html#1938" class="Bound">c</a>
    <a id="2137" class="Symbol">;</a> <a id="2139" href="Tactic.DeriveComp.html#1133" class="Field">state</a> <a id="2145" class="Symbol">=</a> <a id="2147" href="Tactic.DeriveComp.html#1942" class="Bound">s</a>
    <a id="2153" class="Symbol">;</a> <a id="2155" href="Tactic.DeriveComp.html#1155" class="Field">signal</a> <a id="2162" class="Symbol">=</a> <a id="2164" href="Tactic.DeriveComp.html#1946" class="Bound">sig</a>
    <a id="2172" class="Symbol">;</a> <a id="2174" href="Tactic.DeriveComp.html#1177" class="Field">result</a> <a id="2181" class="Symbol">=</a> <a id="2183" href="Generics.Utils.html#5759" class="Function">mapVars</a> <a id="2191" class="Symbol">(</a><a id="2192" href="Data.Nat.Base.html#3202" class="Primitive Operator">_∸</a> <a id="2195" class="Symbol">(</a><a id="2196" href="Data.List.Base.html#5058" class="Function">length</a> <a id="2203" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="2205" href="Data.List.Base.html#11303" class="Function">dropWhile</a> <a id="2215" href="Tactic.DeriveComp.html#1639" class="Function">isArg</a> <a id="2221" class="Bound">cs</a><a id="2223" class="Symbol">))</a> <a id="2226" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="2228" href="Reflection.AST.Argument.html#2624" class="Function">unArg</a> <a id="2234" href="Tactic.DeriveComp.html#1929" class="Bound">r</a> <a id="2236" class="Symbol">}</a>
<a id="2238" class="CatchallClause Symbol">...</a><a id="2241" class="CatchallClause"> </a><a id="2242" class="CatchallClause Symbol">|</a><a id="2243" class="CatchallClause"> </a><a id="2244" href="Tactic.DeriveComp.html#2244" class="CatchallClause Bound">l</a><a id="2245" class="CatchallClause"> </a><a id="2246" class="CatchallClause Symbol">|</a><a id="2247" class="CatchallClause"> </a><a id="2248" href="Tactic.DeriveComp.html#2248" class="CatchallClause Bound">l&#39;</a> <a id="2251" class="Symbol">=</a>
  <a id="2255" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="2262" class="Symbol">(</a><a id="2263" class="String">&quot;toSTSConstr: wrong number of arguments:&quot;</a> <a id="2305" href="Data.String.Base.html#3047" class="Function Operator">&lt;+&gt;</a> <a id="2309" href="Data.Nat.Show.html#1924" class="Function">ℕ.show</a> <a id="2316" class="Symbol">(</a><a id="2317" href="Data.List.Base.html#5058" class="Function">length</a> <a id="2324" href="Tactic.DeriveComp.html#2244" class="Bound">l</a><a id="2325" class="Symbol">)</a> <a id="2327" href="Data.String.Base.html#3047" class="Function Operator">&lt;+&gt;</a> <a id="2331" class="String">&quot;,&quot;</a> <a id="2335" href="Data.String.Base.html#3047" class="Function Operator">&lt;+&gt;</a> <a id="2339" href="Data.Nat.Show.html#1924" class="Function">ℕ.show</a> <a id="2346" class="Symbol">(</a><a id="2347" href="Data.List.Base.html#5058" class="Function">length</a> <a id="2354" href="Tactic.DeriveComp.html#2248" class="Bound">l&#39;</a><a id="2356" class="Symbol">))</a>
<a id="2359" href="Tactic.DeriveComp.html#1737" class="CatchallClause Function">toSTSConstr</a><a id="2370" class="CatchallClause"> </a><a id="2371" class="CatchallClause Symbol">_</a> <a id="2373" class="Symbol">=</a> <a id="2375" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="2382" class="String">&quot;toSTSConstr: wrong constructor&quot;</a>

<a id="errorIfNothing"></a><a id="2416" href="Tactic.DeriveComp.html#2416" class="Function">errorIfNothing</a> <a id="2431" class="Symbol">:</a> <a id="2433" class="Symbol">∀</a> <a id="2435" class="Symbol">{</a><a id="2436" href="Tactic.DeriveComp.html#2436" class="Bound">a</a><a id="2437" class="Symbol">}</a> <a id="2439" class="Symbol">{</a><a id="2440" href="Tactic.DeriveComp.html#2440" class="Bound">A</a> <a id="2442" class="Symbol">:</a> <a id="2444" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2448" href="Tactic.DeriveComp.html#2436" class="Bound">a</a><a id="2449" class="Symbol">}</a> <a id="2451" class="Symbol">→</a> <a id="2453" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2459" href="Tactic.DeriveComp.html#2440" class="Bound">A</a> <a id="2461" class="Symbol">→</a> <a id="2463" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="2470" class="Symbol">→</a> <a id="2472" href="Reflection.TCI.html#632" class="Function">TC</a> <a id="2475" href="Tactic.DeriveComp.html#2440" class="Bound">A</a>
<a id="2477" href="Tactic.DeriveComp.html#2416" class="Function">errorIfNothing</a> <a id="2492" class="Symbol">(</a><a id="2493" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2498" href="Tactic.DeriveComp.html#2498" class="Bound">x</a><a id="2499" class="Symbol">)</a> <a id="2501" href="Tactic.DeriveComp.html#2501" class="Bound">s</a> <a id="2503" class="Symbol">=</a> <a id="2505" href="Interface.Monad.html#290" class="Field">return</a> <a id="2512" href="Tactic.DeriveComp.html#2498" class="Bound">x</a>
<a id="2514" href="Tactic.DeriveComp.html#2416" class="Function">errorIfNothing</a> <a id="2529" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="2537" href="Tactic.DeriveComp.html#2537" class="Bound">s</a> <a id="2539" class="Symbol">=</a> <a id="2541" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="2548" href="Tactic.DeriveComp.html#2537" class="Bound">s</a>

<a id="getSTSConstrs"></a><a id="2551" href="Tactic.DeriveComp.html#2551" class="Function">getSTSConstrs</a> <a id="2565" class="Symbol">:</a> <a id="2567" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2572" class="Symbol">→</a> <a id="2574" href="Reflection.TCI.html#632" class="Function">TC</a> <a id="2577" class="Symbol">(</a><a id="2578" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2583" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a><a id="2592" class="Symbol">)</a>
<a id="2594" href="Tactic.DeriveComp.html#2551" class="Function">getSTSConstrs</a> <a id="2608" href="Tactic.DeriveComp.html#2608" class="Bound">n</a> <a id="2610" class="Symbol">=</a> <a id="2612" href="Tactic.Helpers.html#2528" class="Function">inDebugPath</a> <a id="2624" class="String">&quot;getSTSConstrs&quot;</a> <a id="2640" class="Keyword">do</a>
  <a id="2645" href="Tactic.DeriveComp.html#2645" class="Bound">dataDef</a> <a id="2653" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="2655" href="Tactic.Helpers.html#3182" class="Function">getDataDef</a> <a id="2666" href="Tactic.DeriveComp.html#2608" class="Bound">n</a>
  <a id="2670" href="Tactic.DeriveComp.html#2670" class="Bound">res</a> <a id="2674" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="2676" href="Interface.Monad.html#824" class="Function">traverseList</a> <a id="2689" href="Tactic.DeriveComp.html#1737" class="Function">toSTSConstr</a> <a id="2701" class="Symbol">(</a><a id="2702" href="Tactic.Helpers.html#790" class="Field">DataDef.constructors</a> <a id="2723" href="Tactic.DeriveComp.html#2645" class="Bound">dataDef</a><a id="2730" class="Symbol">)</a>
  <a id="2734" href="Interface.MonadTC.html#5865" class="Function">debugLogᵐ</a> <a id="2744" class="Symbol">(</a><a id="2745" href="Tactic.DeriveComp.html#2670" class="Bound">res</a> <a id="2749" href="Interface.MonadTC.html#5351" class="Function Operator">ᵛⁿ</a> <a id="2752" href="Interface.MonadTC.html#5134" class="Function Operator">∷ᵈᵐ</a> <a id="2756" href="Interface.MonadTC.html#5071" class="Function">[]ᵐ</a><a id="2759" class="Symbol">)</a>
  <a id="2763" href="Interface.Monad.html#290" class="Field">return</a> <a id="2770" href="Tactic.DeriveComp.html#2670" class="Bound">res</a>

<a id="generatePred"></a><a id="2775" href="Tactic.DeriveComp.html#2775" class="Function">generatePred</a> <a id="2788" class="Symbol">:</a> <a id="2790" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2795" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="2800" class="Symbol">→</a> <a id="2802" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="2807" href="Tactic.DeriveComp.html#2775" class="Function">generatePred</a> <a id="2820" href="Tactic.DeriveComp.html#2820" class="Bound">clauses</a> <a id="2828" class="Symbol">=</a> <a id="2830" class="Keyword">quote</a> <a id="2836" href="Interface.Decidable.Instance.html#583" class="Function Operator">¿_¿</a> <a id="2840" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="2843" href="Tactic.DeriveComp.html#2872" class="Function">helper</a> <a id="2850" href="Tactic.DeriveComp.html#2820" class="Bound">clauses</a> <a id="2858" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a>
  <a id="2862" class="Keyword">where</a>
    <a id="2872" href="Tactic.DeriveComp.html#2872" class="Function">helper</a> <a id="2879" class="Symbol">:</a> <a id="2881" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2886" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="2891" class="Symbol">→</a> <a id="2893" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="2902" href="Tactic.DeriveComp.html#2872" class="Function">helper</a> <a id="2909" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2912" class="Symbol">=</a> <a id="2914" class="Keyword">quoteTerm</a> <a id="2924" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="2930" href="Tactic.DeriveComp.html#2872" class="Function">helper</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Tactic.DeriveComp.html#2938" class="Bound">x</a> <a id="2940" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2942" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2944" class="Symbol">)</a> <a id="2946" class="Symbol">=</a> <a id="2948" href="Tactic.DeriveComp.html#2938" class="Bound">x</a>
    <a id="2954" href="Tactic.DeriveComp.html#2872" class="Function">helper</a> <a id="2961" class="Symbol">(</a><a id="2962" href="Tactic.DeriveComp.html#2962" class="Bound">x</a> <a id="2964" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2966" href="Tactic.DeriveComp.html#2966" class="Bound">x₁</a> <a id="2969" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2971" href="Tactic.DeriveComp.html#2971" class="Bound">l</a><a id="2972" class="Symbol">)</a> <a id="2974" class="Symbol">=</a> <a id="2976" class="Keyword">quote</a> <a id="2982" href="Data.Product.Base.html#1109" class="Function Operator">_×_</a> <a id="2986" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="2989" href="Tactic.DeriveComp.html#2962" class="Bound">x</a> <a id="2991" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="2993" href="Tactic.DeriveComp.html#2872" class="Function">helper</a> <a id="3000" class="Symbol">(</a><a id="3001" href="Tactic.DeriveComp.html#2966" class="Bound">x₁</a> <a id="3004" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3006" href="Tactic.DeriveComp.html#2971" class="Bound">l</a><a id="3007" class="Symbol">)</a> <a id="3009" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a>

<a id="predWitness"></a><a id="3012" href="Tactic.DeriveComp.html#3012" class="Function">predWitness</a> <a id="3024" class="Symbol">:</a> <a id="3026" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3028" class="Symbol">→</a> <a id="3030" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="3035" href="Tactic.DeriveComp.html#3012" class="Function">predWitness</a> <a id="3047" class="Number">0</a> <a id="3049" class="Symbol">=</a> <a id="3051" class="Keyword">quoteTerm</a> <a id="3061" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
<a id="3064" href="Tactic.DeriveComp.html#3012" class="Function">predWitness</a> <a id="3076" class="Symbol">(</a><a id="3077" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3081" href="Tactic.DeriveComp.html#3081" class="Bound">n</a><a id="3082" class="Symbol">)</a> <a id="3084" class="Symbol">=</a> <a id="3086" href="Tactic.DeriveComp.html#3107" class="Function">helper</a> <a id="3093" href="Tactic.DeriveComp.html#3081" class="Bound">n</a>
  <a id="3097" class="Keyword">where</a>
    <a id="3107" href="Tactic.DeriveComp.html#3107" class="Function">helper</a> <a id="3114" class="Symbol">:</a> <a id="3116" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3118" class="Symbol">→</a> <a id="3120" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="3129" href="Tactic.DeriveComp.html#3107" class="Function">helper</a> <a id="3136" class="Number">0</a> <a id="3138" class="Symbol">=</a> <a id="3140" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="3142" class="Number">0</a>
    <a id="3148" href="Tactic.DeriveComp.html#3107" class="Function">helper</a> <a id="3155" class="Symbol">(</a><a id="3156" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3160" href="Tactic.DeriveComp.html#3160" class="Bound">n</a><a id="3161" class="Symbol">)</a> <a id="3163" class="Symbol">=</a> <a id="3165" class="Keyword">quote</a> <a id="3171" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="3175" href="Generics.Core.html#2150" class="InductiveConstructor Operator">◆⟦</a> <a id="3178" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="3180" class="Symbol">(</a><a id="3181" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3185" href="Tactic.DeriveComp.html#3160" class="Bound">n</a><a id="3186" class="Symbol">)</a> <a id="3188" href="Generics.Core.html#2150" class="InductiveConstructor Operator">∣</a> <a id="3190" href="Tactic.DeriveComp.html#3107" class="Function">helper</a> <a id="3197" href="Tactic.DeriveComp.html#3160" class="Bound">n</a> <a id="3199" href="Generics.Core.html#2150" class="InductiveConstructor Operator">⟧</a>

<a id="curryPredProof"></a><a id="3202" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="3217" class="Symbol">:</a> <a id="3219" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3221" class="Symbol">→</a> <a id="3223" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="3228" class="Symbol">→</a> <a id="3230" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3240" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="3244" class="Symbol">)</a>
<a id="3246" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="3261" class="Number">0</a> <a id="3263" href="Tactic.DeriveComp.html#3263" class="Bound">t</a> <a id="3265" class="Symbol">=</a> <a id="3267" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
<a id="3270" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="3285" class="Number">1</a> <a id="3287" href="Tactic.DeriveComp.html#3287" class="Bound">t</a> <a id="3289" class="Symbol">=</a> <a id="3291" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="3293" href="Reflection.AST.Argument.html#1295" class="InductiveConstructor">vArg</a> <a id="3298" href="Tactic.DeriveComp.html#3287" class="Bound">t</a> <a id="3300" href="Data.List.Base.html#5219" class="Function Operator">]</a>
<a id="3302" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="3317" class="Number">2</a> <a id="3319" href="Tactic.DeriveComp.html#3319" class="Bound">t</a> <a id="3321" class="Symbol">=</a> <a id="3323" class="Keyword">quote</a> <a id="3329" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="3335" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="3338" href="Tactic.DeriveComp.html#3319" class="Bound">t</a> <a id="3340" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a> <a id="3342" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3346" class="Keyword">quote</a> <a id="3352" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="3358" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="3361" href="Tactic.DeriveComp.html#3319" class="Bound">t</a> <a id="3363" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a> <a id="3365" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3369" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
<a id="3372" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="3387" class="Symbol">(</a><a id="3388" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3392" class="Symbol">(</a><a id="3393" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3397" class="Symbol">(</a><a id="3398" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3402" href="Tactic.DeriveComp.html#3402" class="Bound">k</a><a id="3403" class="Symbol">)))</a> <a id="3407" href="Tactic.DeriveComp.html#3407" class="Bound">t</a> <a id="3409" class="Symbol">=</a> <a id="3411" class="Keyword">quote</a> <a id="3417" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="3423" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="3426" href="Tactic.DeriveComp.html#3407" class="Bound">t</a> <a id="3428" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a> <a id="3430" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3434" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="3449" class="Symbol">(</a><a id="3450" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3454" class="Symbol">(</a><a id="3455" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3459" href="Tactic.DeriveComp.html#3402" class="Bound">k</a><a id="3460" class="Symbol">))</a> <a id="3463" class="Symbol">(</a><a id="3464" class="Keyword">quote</a> <a id="3470" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="3476" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="3479" href="Tactic.DeriveComp.html#3407" class="Bound">t</a> <a id="3481" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a><a id="3482" class="Symbol">)</a>

<a id="computeFunctionBody"></a><a id="3485" href="Tactic.DeriveComp.html#3485" class="Function">computeFunctionBody</a> <a id="3505" class="Symbol">:</a> <a id="3507" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="3512" class="Symbol">→</a> <a id="3514" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="3519" class="Symbol">→</a> <a id="3521" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="3526" href="Tactic.DeriveComp.html#3485" class="Function">computeFunctionBody</a> <a id="3546" href="Tactic.DeriveComp.html#3546" class="Bound">g</a> <a id="3548" href="Tactic.DeriveComp.html#3548" class="Bound">result</a> <a id="3555" class="Symbol">=</a>
  <a id="3559" class="Keyword">quote</a> <a id="3565" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="3579" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∙⟦</a> <a id="3582" href="Tactic.DeriveComp.html#3546" class="Bound">g</a> <a id="3584" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="3586" class="Keyword">quote</a> <a id="3592" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3597" href="Generics.Core.html#2110" class="InductiveConstructor Operator">◆⟦</a> <a id="3600" href="Tactic.DeriveComp.html#3548" class="Bound">result</a> <a id="3607" href="Generics.Core.html#2110" class="InductiveConstructor Operator">⟧</a> <a id="3609" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="3611" class="Keyword">quote</a> <a id="3617" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="3625" href="Generics.Core.html#2086" class="InductiveConstructor Operator">◆</a> <a id="3627" href="Generics.Core.html#1940" class="InductiveConstructor Operator">⟧</a>

<a id="generateFunctionClause"></a><a id="3630" href="Tactic.DeriveComp.html#3630" class="Function">generateFunctionClause</a> <a id="3653" class="Symbol">:</a> <a id="3655" class="Symbol">(</a><a id="3656" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3661" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="3666" class="Symbol">→</a> <a id="3668" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="3672" class="Symbol">)</a> <a id="3674" class="Symbol">→</a> <a id="3676" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="3686" class="Symbol">→</a> <a id="3688" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a>
<a id="3695" href="Tactic.DeriveComp.html#3630" class="Function">generateFunctionClause</a> <a id="3718" href="Tactic.DeriveComp.html#3718" class="Bound">genPred</a> <a id="3726" href="Tactic.DeriveComp.html#3726" class="Bound">c</a> <a id="3728" class="Symbol">=</a> <a id="3730" class="Keyword">let</a> <a id="3734" class="Keyword">open</a> <a id="3739" href="Tactic.DeriveComp.html#998" class="Module">STSConstr</a> <a id="3749" href="Tactic.DeriveComp.html#3726" class="Bound">c</a> <a id="3751" class="Keyword">in</a>
  <a id="3756" href="Generics.Core.html#1059" class="InductiveConstructor Operator">⟦</a> <a id="3758" href="Tactic.DeriveComp.html#1111" class="Field">context</a> <a id="3766" href="Generics.Core.html#1059" class="InductiveConstructor Operator">∣</a> <a id="3768" href="Tactic.DeriveComp.html#1133" class="Field">state</a> <a id="3774" href="Generics.Core.html#1059" class="InductiveConstructor Operator">∣</a> <a id="3776" href="Tactic.DeriveComp.html#1155" class="Field">signal</a> <a id="3783" href="Generics.Core.html#1059" class="InductiveConstructor Operator">⦅</a> <a id="3785" class="Symbol">(λ</a> <a id="3788" class="Symbol">{</a> <a id="3790" class="Symbol">(</a><a id="3791" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="3795" href="Tactic.DeriveComp.html#3795" class="Bound">s</a> <a id="3797" href="Tactic.DeriveComp.html#3797" class="Bound">x</a><a id="3798" class="Symbol">)</a> <a id="3800" class="Symbol">→</a> <a id="3802" class="Symbol">(</a><a id="3803" href="Tactic.DeriveComp.html#3795" class="Bound">s</a> <a id="3805" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3807" href="Tactic.DeriveComp.html#3797" class="Bound">x</a><a id="3808" class="Symbol">)</a> <a id="3810" class="Symbol">})</a> <a id="3813" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="3817" href="Tactic.DeriveComp.html#1051" class="Field">params</a> <a id="3824" href="Generics.Core.html#1059" class="InductiveConstructor Operator">⦆⇒</a>
    <a id="3831" href="Tactic.DeriveComp.html#3485" class="Function">computeFunctionBody</a> <a id="3851" class="Symbol">(</a><a id="3852" class="Keyword">quote</a> <a id="3858" href="Relation.Nullary.Decidable.Core.html#3274" class="Function Operator">⌊_⌋</a> <a id="3862" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="3865" href="Tactic.DeriveComp.html#3718" class="Bound">genPred</a> <a id="3873" href="Tactic.DeriveComp.html#1087" class="Field">clauses</a> <a id="3881" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a><a id="3882" class="Symbol">)</a> <a id="3884" href="Tactic.DeriveComp.html#1177" class="Field">result</a> <a id="3891" href="Generics.Core.html#1059" class="InductiveConstructor Operator">⟧</a>

<a id="generateFunction"></a><a id="3894" href="Tactic.DeriveComp.html#3894" class="Function">generateFunction</a> <a id="3911" class="Symbol">:</a> <a id="3913" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3918" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="3928" class="Symbol">→</a> <a id="3930" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="3935" href="Tactic.DeriveComp.html#3894" class="Function">generateFunction</a> <a id="3952" href="Tactic.DeriveComp.html#3952" class="Bound">c</a> <a id="3954" class="Symbol">=</a> <a id="3956" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Tactic.DeriveComp.html#3630" class="Function">generateFunctionClause</a> <a id="3988" href="Tactic.DeriveComp.html#2775" class="Function">generatePred</a> <a id="4001" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="4005" href="Tactic.DeriveComp.html#3952" class="Bound">c</a><a id="4006" class="Symbol">)</a> <a id="4008" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="rdOpts"></a><a id="4012" href="Tactic.DeriveComp.html#4012" class="Function">rdOpts</a> <a id="4019" class="Symbol">:</a> <a id="4021" href="Interface.MonadTC.html#481" class="Datatype">ReductionOptions</a>
<a id="4038" href="Tactic.DeriveComp.html#4012" class="Function">rdOpts</a> <a id="4045" class="Symbol">=</a> <a id="4047" href="Interface.MonadTC.html#512" class="InductiveConstructor">onlyReduce</a> <a id="4058" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="4060" class="Keyword">quote</a> <a id="4066" href="Relation.Nullary.Decidable.Core.html#3274" class="Function Operator">⌊_⌋</a> <a id="4070" href="Data.List.Base.html#5219" class="Function Operator">]</a>

<a id="4073" class="Keyword">open</a> <a id="4078" href="Tactic.ClauseBuilder.html#10865" class="Module">ClauseExprM</a>

<a id="derive⇐"></a><a id="4091" href="Tactic.DeriveComp.html#4091" class="Function">derive⇐</a> <a id="4099" class="Symbol">:</a> <a id="4101" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4106" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="4116" class="Symbol">→</a> <a id="4118" href="Tactic.Helpers.html#5653" class="Function">ITactic</a>
<a id="4126" href="Tactic.DeriveComp.html#4091" class="Function">derive⇐</a> <a id="4134" class="Symbol">(</a><a id="4135" class="Keyword">record</a> <a id="4142" class="Symbol">{</a> <a id="4144" href="Tactic.DeriveComp.html#1087" class="Field">clauses</a> <a id="4152" class="Symbol">=</a> <a id="4154" href="Tactic.DeriveComp.html#4154" class="Bound">clauses</a><a id="4161" class="Symbol">;</a> <a id="4163" href="Tactic.DeriveComp.html#1177" class="Field">result</a> <a id="4170" class="Symbol">=</a> <a id="4172" href="Tactic.DeriveComp.html#4172" class="Bound">result</a> <a id="4179" class="Symbol">}</a> <a id="4181" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4183" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="4185" class="Symbol">)</a> <a id="4187" class="Symbol">=</a> <a id="4189" href="Tactic.Helpers.html#2528" class="Function">inDebugPath</a> <a id="4201" class="String">&quot;derive⇐&quot;</a> <a id="4211" class="Keyword">do</a>
  <a id="4216" class="Symbol">(</a><a id="4217" href="Tactic.DeriveComp.html#4217" class="Bound">constrPat</a> <a id="4227" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4229" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="4231" class="Symbol">)</a> <a id="4233" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="4235" href="Tactic.ClauseBuilder.html#8607" class="Function">currentTyConstrPatterns</a>
    <a id="4263" class="Keyword">where</a> <a id="4269" class="CatchallClause Symbol">_</a> <a id="4271" class="Symbol">→</a> <a id="4273" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="4280" class="String">&quot;TODO: Support more than one constructor!&quot;</a>
  <a id="4325" href="Tactic.DeriveComp.html#4325" class="Bound">expr</a> <a id="4330" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="4332" href="Tactic.ClauseBuilder.html#11735" class="Function">singleMatchExpr</a> <a id="4348" href="Tactic.DeriveComp.html#4217" class="Bound">constrPat</a> <a id="4358" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="4360" href="Tactic.ClauseBuilder.html#12783" class="Function">finishMatch</a> <a id="4372" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="4374" href="Interface.MonadTC.html#10808" class="Function">withGoalHole</a> <a id="4387" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="4389" class="Keyword">do</a>
    <a id="4396" class="Keyword">let</a> <a id="4400" href="Tactic.DeriveComp.html#4400" class="Bound">n</a> <a id="4402" class="Symbol">=</a> <a id="4404" class="Number">1</a> <a id="4406" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4408" href="Data.List.Base.html#5058" class="Function">length</a> <a id="4415" href="Tactic.DeriveComp.html#4154" class="Bound">clauses</a>
        <a id="4431" href="Tactic.DeriveComp.html#4431" class="Bound">pred</a> <a id="4436" class="Symbol">=</a> <a id="4438" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="4445" href="Tactic.DeriveComp.html#4400" class="Bound">n</a> <a id="4447" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="4449" href="Tactic.DeriveComp.html#2775" class="Function">generatePred</a> <a id="4462" href="Tactic.DeriveComp.html#4154" class="Bound">clauses</a>
        <a id="4478" href="Tactic.DeriveComp.html#4478" class="Bound">scheme</a> <a id="4485" class="Symbol">=</a> <a id="4487" href="Generics.Core.html#1158" class="InductiveConstructor Operator">`λ</a> <a id="4490" class="String">&quot;g&quot;</a> <a id="4494" href="Generics.Core.html#1158" class="InductiveConstructor Operator">⇒</a> <a id="4496" class="Symbol">(</a><a id="4497" class="Keyword">quote</a> <a id="4503" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="4507" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="4510" href="Tactic.DeriveComp.html#3485" class="Function">computeFunctionBody</a> <a id="4530" class="Symbol">(</a><a id="4531" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="4533" class="Number">0</a><a id="4534" class="Symbol">)</a> <a id="4536" class="Symbol">(</a><a id="4537" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="4544" class="Symbol">(</a><a id="4545" class="Number">1</a> <a id="4547" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4549" href="Tactic.DeriveComp.html#4400" class="Bound">n</a><a id="4550" class="Symbol">)</a> <a id="4552" href="Tactic.DeriveComp.html#4172" class="Bound">result</a><a id="4558" class="Symbol">)</a>
                                      <a id="4598" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="4600" class="Keyword">quote</a> <a id="4606" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4611" href="Generics.Core.html#2110" class="InductiveConstructor Operator">◆⟦</a> <a id="4614" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="4621" class="Symbol">(</a><a id="4622" class="Number">1</a> <a id="4624" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4626" href="Tactic.DeriveComp.html#4400" class="Bound">n</a><a id="4627" class="Symbol">)</a> <a id="4629" href="Tactic.DeriveComp.html#4172" class="Bound">result</a> <a id="4636" href="Generics.Core.html#2110" class="InductiveConstructor Operator">⟧</a> <a id="4638" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a><a id="4639" class="Symbol">)</a>
        <a id="4649" href="Tactic.DeriveComp.html#4649" class="Bound">eq</a> <a id="4652" class="Symbol">=</a> <a id="4654" class="Keyword">quote</a> <a id="4660" href="Tactic.ReduceDec.html#2649" class="Function">fromWitness&#39;</a> <a id="4673" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="4676" href="Tactic.DeriveComp.html#4431" class="Bound">pred</a> <a id="4681" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="4683" href="Tactic.DeriveComp.html#3012" class="Function">predWitness</a> <a id="4695" class="Symbol">(</a><a id="4696" href="Data.List.Base.html#5058" class="Function">length</a> <a id="4703" href="Tactic.DeriveComp.html#4154" class="Bound">clauses</a><a id="4710" class="Symbol">)</a> <a id="4712" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a>
    <a id="4718" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="4732" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="4734" class="Keyword">quote</a> <a id="4740" href="Relation.Binary.PropositionalEquality.Core.html#1794" class="Function">subst</a> <a id="4746" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∙⟦</a> <a id="4749" href="Tactic.DeriveComp.html#4478" class="Bound">scheme</a> <a id="4756" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="4758" class="Keyword">quote</a> <a id="4764" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">sym</a> <a id="4768" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="4771" href="Tactic.DeriveComp.html#4649" class="Bound">eq</a> <a id="4774" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a> <a id="4776" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="4778" class="Keyword">quote</a> <a id="4784" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4789" href="Generics.Core.html#2086" class="InductiveConstructor Operator">◆</a> <a id="4791" href="Generics.Core.html#1940" class="InductiveConstructor Operator">⟧</a>
  <a id="4795" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="4809" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="4811" href="Tactic.ClauseBuilder.html#7490" class="Function">clauseExprToPatLam</a> <a id="4830" href="Tactic.DeriveComp.html#4325" class="Bound">expr</a>
<a id="4835" href="Tactic.DeriveComp.html#4091" class="CatchallClause Function">derive⇐</a><a id="4842" class="CatchallClause"> </a><a id="4843" class="CatchallClause Symbol">_</a> <a id="4845" class="Symbol">=</a> <a id="4847" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="4854" class="String">&quot;TODO: support multiple constructors&quot;</a>

<a id="extendRawContext"></a><a id="4893" href="Tactic.DeriveComp.html#4893" class="Function">extendRawContext</a> <a id="4910" class="Symbol">:</a> <a id="4912" class="Symbol">{</a><a id="4913" href="Tactic.DeriveComp.html#4913" class="Bound">A</a> <a id="4915" class="Symbol">:</a> <a id="4917" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="4920" class="Symbol">}</a> <a id="4922" class="Symbol">→</a> <a id="4924" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="4937" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="4939" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="4943" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="4947" class="Symbol">)</a> <a id="4949" class="Symbol">→</a> <a id="4951" href="Reflection.TCI.html#632" class="Function">TC</a> <a id="4954" href="Tactic.DeriveComp.html#4913" class="Bound">A</a> <a id="4956" class="Symbol">→</a> <a id="4958" href="Reflection.TCI.html#632" class="Function">TC</a> <a id="4961" href="Tactic.DeriveComp.html#4913" class="Bound">A</a>
<a id="4963" href="Tactic.DeriveComp.html#4893" class="Function">extendRawContext</a> <a id="4980" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="4983" href="Tactic.DeriveComp.html#4983" class="Bound">m</a> <a id="4985" class="Symbol">=</a> <a id="4987" href="Tactic.DeriveComp.html#4983" class="Bound">m</a>
<a id="4989" href="Tactic.DeriveComp.html#4893" class="Function">extendRawContext</a> <a id="5006" class="Symbol">((</a><a id="5008" href="Tactic.DeriveComp.html#5008" class="Bound">x</a> <a id="5010" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5012" href="Tactic.DeriveComp.html#5012" class="Bound">ty</a><a id="5014" class="Symbol">)</a> <a id="5016" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5018" href="Tactic.DeriveComp.html#5018" class="Bound">tys</a><a id="5021" class="Symbol">)</a> <a id="5023" href="Tactic.DeriveComp.html#5023" class="Bound">m</a> <a id="5025" class="Symbol">=</a> <a id="5027" href="Agda.Builtin.Reflection.html#8954" class="Postulate">R.extendContext</a> <a id="5043" href="Tactic.DeriveComp.html#5008" class="Bound">x</a> <a id="5045" href="Tactic.DeriveComp.html#5012" class="Bound">ty</a> <a id="5048" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="5050" href="Tactic.DeriveComp.html#4893" class="Function">extendRawContext</a> <a id="5067" href="Tactic.DeriveComp.html#5018" class="Bound">tys</a> <a id="5071" href="Tactic.DeriveComp.html#5023" class="Bound">m</a>

<a id="derive⇒"></a><a id="5074" href="Tactic.DeriveComp.html#5074" class="Function">derive⇒</a> <a id="5082" class="Symbol">:</a> <a id="5084" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5089" class="Symbol">→</a> <a id="5091" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5096" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="5106" class="Symbol">→</a> <a id="5108" href="Tactic.Helpers.html#5653" class="Function">ITactic</a>
<a id="5116" href="Tactic.DeriveComp.html#5074" class="Function">derive⇒</a> <a id="5124" href="Tactic.DeriveComp.html#5124" class="Bound">n</a> <a id="5126" class="Symbol">(</a><a id="5127" class="Keyword">record</a> <a id="5134" class="Symbol">{</a> <a id="5136" href="Tactic.DeriveComp.html#1032" class="Field">name</a> <a id="5141" class="Symbol">=</a> <a id="5143" href="Tactic.DeriveComp.html#5143" class="Bound">stsConstrName</a> <a id="5157" class="Symbol">;</a> <a id="5159" href="Tactic.DeriveComp.html#1087" class="Field">clauses</a> <a id="5167" class="Symbol">=</a> <a id="5169" href="Tactic.DeriveComp.html#5169" class="Bound">clauses</a><a id="5176" class="Symbol">;</a> <a id="5178" href="Tactic.DeriveComp.html#1177" class="Field">result</a> <a id="5185" class="Symbol">=</a> <a id="5187" href="Tactic.DeriveComp.html#5187" class="Bound">result</a> <a id="5194" class="Symbol">}</a> <a id="5196" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5198" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5200" class="Symbol">)</a> <a id="5202" class="Symbol">=</a> <a id="5204" href="Tactic.Helpers.html#2528" class="Function">inDebugPath</a> <a id="5216" class="String">&quot;derive⇒&quot;</a> <a id="5226" class="Keyword">do</a>
  <a id="5231" class="Keyword">let</a> <a id="5235" href="Tactic.DeriveComp.html#5235" class="Bound">pred</a> <a id="5240" class="Symbol">=</a> <a id="5242" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="5249" class="Number">3</a> <a id="5251" class="Symbol">(</a><a id="5252" href="Tactic.DeriveComp.html#2775" class="Function">generatePred</a> <a id="5265" href="Tactic.DeriveComp.html#5169" class="Bound">clauses</a><a id="5272" class="Symbol">)</a>
  <a id="5276" href="Tactic.DeriveComp.html#5276" class="Bound">expr</a> <a id="5281" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="5283" href="Tactic.ClauseBuilder.html#12363" class="Function">introsExpr</a> <a id="5294" class="Symbol">(</a><a id="5295" href="Data.Maybe.Base.html#1921" class="Function">from-just</a> <a id="5305" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="5307" href="Data.List.NonEmpty.Base.html#1834" class="Function">NE.fromList</a> <a id="5319" class="Symbol">(</a><a id="5320" class="String">&quot;h&quot;</a> <a id="5324" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="5328" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5330" class="Symbol">))</a> <a id="5333" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="5335" href="Tactic.ClauseBuilder.html#12783" class="Function">finishMatch</a> <a id="5347" href="Function.Base.html#1994" class="Function Operator">$</a>
    <a id="5353" href="Tactic.ClauseBuilder.html#8398" class="Function">caseMatch</a> <a id="5363" class="Symbol">(</a><a id="5364" href="Generics.Utils.html#5759" class="Function">mapVars</a> <a id="5372" class="Symbol">(</a><a id="5373" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="5376" class="Number">2</a><a id="5377" class="Symbol">)</a> <a id="5379" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="5381" href="Tactic.DeriveComp.html#2775" class="Function">generatePred</a> <a id="5394" href="Tactic.DeriveComp.html#5169" class="Bound">clauses</a><a id="5401" class="Symbol">)</a> <a id="5403" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="5405" href="Tactic.ClauseBuilder.html#11023" class="Function">matchExprM</a>
      <a id="5422" class="Symbol">((</a><a id="5424" href="Tactic.ClauseBuilder.html#1479" class="Function">multiSinglePattern</a> <a id="5443" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="5445" class="String">&quot;&quot;</a> <a id="5448" href="Data.List.Base.html#5219" class="Function Operator">]</a> <a id="5450" class="Symbol">(</a><a id="5451" href="Reflection.AST.Argument.html#1295" class="InductiveConstructor">vArg</a> <a id="5456" class="Symbol">(</a><a id="5457" href="PreludeImports.html#259" class="InductiveConstructor">``no</a>  <a id="5463" class="Symbol">(</a><a id="5464" href="Generics.Core.html#505" class="InductiveConstructor Operator">`</a> <a id="5466" class="Number">0</a><a id="5467" class="Symbol">)))</a> <a id="5471" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5473" href="Tactic.ClauseBuilder.html#12783" class="Function">finishMatch</a> <a id="5485" class="Keyword">do</a>
         <a id="5497" class="Keyword">let</a> <a id="5501" href="Tactic.DeriveComp.html#5501" class="Bound">reducedHyp</a> <a id="5512" class="Symbol">=</a> <a id="5514" class="Keyword">quote</a> <a id="5520" href="Relation.Binary.PropositionalEquality.Core.html#1794" class="Function">subst</a> <a id="5526" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∙⟦</a> <a id="5529" href="Generics.Core.html#1158" class="InductiveConstructor Operator">`λ</a> <a id="5532" class="String">&quot;g&quot;</a> <a id="5536" href="Generics.Core.html#1158" class="InductiveConstructor Operator">⇒</a> <a id="5538" class="Symbol">(</a><a id="5539" class="Keyword">quote</a> <a id="5545" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="5549" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="5552" href="Tactic.DeriveComp.html#3485" class="Function">computeFunctionBody</a> <a id="5572" class="Symbol">(</a><a id="5573" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="5575" class="Number">0</a><a id="5576" class="Symbol">)</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="5586" class="Number">4</a> <a id="5588" href="Tactic.DeriveComp.html#5187" class="Bound">result</a><a id="5594" class="Symbol">)</a>
                                                               <a id="5659" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="5661" class="Keyword">quote</a> <a id="5667" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5672" href="Generics.Core.html#2110" class="InductiveConstructor Operator">◆⟦</a> <a id="5675" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="5677" class="Number">3</a> <a id="5679" href="Generics.Core.html#2110" class="InductiveConstructor Operator">⟧</a> <a id="5681" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a><a id="5682" class="Symbol">)</a>
                                       <a id="5723" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="5725" class="Keyword">quote</a> <a id="5731" href="Tactic.ReduceDec.html#2783" class="Function">fromWitnessFalse&#39;</a> <a id="5749" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="5752" href="Tactic.DeriveComp.html#5235" class="Bound">pred</a> <a id="5757" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="5759" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="5761" class="Number">0</a> <a id="5763" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a>
                                       <a id="5804" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="5806" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="5808" class="Number">1</a> <a id="5810" href="Generics.Core.html#1940" class="InductiveConstructor Operator">⟧</a>
         <a id="5821" href="Interface.Monad.html#290" class="Field">return</a> <a id="5828" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="5830" class="Keyword">quote</a> <a id="5836" href="Function.Base.html#4053" class="Function Operator">case_of_</a> <a id="5845" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="5848" href="Tactic.DeriveComp.html#5501" class="Bound">reducedHyp</a> <a id="5859" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="5861" href="Generics.Core.html#1458" class="InductiveConstructor">`λ∅</a> <a id="5865" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a><a id="5866" class="Symbol">)</a> <a id="5868" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a>
       <a id="5877" class="Symbol">(</a><a id="5878" href="Tactic.ClauseBuilder.html#1479" class="Function">multiSinglePattern</a> <a id="5897" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="5899" class="String">&quot;&quot;</a> <a id="5902" href="Data.List.Base.html#5219" class="Function Operator">]</a> <a id="5904" class="Symbol">(</a><a id="5905" href="Reflection.AST.Argument.html#1295" class="InductiveConstructor">vArg</a> <a id="5910" class="Symbol">(</a><a id="5911" href="PreludeImports.html#187" class="InductiveConstructor">``yes</a> <a id="5917" class="Symbol">(</a><a id="5918" href="Generics.Core.html#505" class="InductiveConstructor Operator">`</a> <a id="5920" class="Number">0</a><a id="5921" class="Symbol">)))</a> <a id="5925" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5927" href="Tactic.ClauseBuilder.html#12783" class="Function">finishMatch</a> <a id="5939" class="Keyword">do</a>
         <a id="5951" class="Keyword">let</a> <a id="5955" href="Tactic.DeriveComp.html#5955" class="Bound">reducedHyp</a> <a id="5966" class="Symbol">=</a> <a id="5968" class="Keyword">quote</a> <a id="5974" href="Relation.Binary.PropositionalEquality.Core.html#1794" class="Function">subst</a> <a id="5980" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∙⟦</a> <a id="5983" href="Generics.Core.html#1158" class="InductiveConstructor Operator">`λ</a> <a id="5986" class="String">&quot;g&quot;</a> <a id="5990" href="Generics.Core.html#1158" class="InductiveConstructor Operator">⇒</a> <a id="5992" class="Symbol">(</a><a id="5993" class="Keyword">quote</a> <a id="5999" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="6003" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="6006" href="Tactic.DeriveComp.html#3485" class="Function">computeFunctionBody</a> <a id="6026" class="Symbol">(</a><a id="6027" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="6029" class="Number">0</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">(</a><a id="6033" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="6040" class="Number">4</a> <a id="6042" href="Tactic.DeriveComp.html#5187" class="Bound">result</a><a id="6048" class="Symbol">)</a>
                                                               <a id="6113" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="6115" class="Keyword">quote</a> <a id="6121" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="6126" href="Generics.Core.html#2110" class="InductiveConstructor Operator">◆⟦</a> <a id="6129" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="6131" class="Number">3</a> <a id="6133" href="Generics.Core.html#2110" class="InductiveConstructor Operator">⟧</a> <a id="6135" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a><a id="6136" class="Symbol">)</a>
                                       <a id="6177" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="6179" class="Keyword">quote</a> <a id="6185" href="Tactic.ReduceDec.html#2649" class="Function">fromWitness&#39;</a> <a id="6198" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="6201" href="Tactic.DeriveComp.html#5235" class="Bound">pred</a> <a id="6206" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="6208" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="6210" class="Number">0</a> <a id="6212" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a>
                                       <a id="6253" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="6255" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="6257" class="Number">1</a> <a id="6259" href="Generics.Core.html#1940" class="InductiveConstructor Operator">⟧</a>
         <a id="6270" href="Tactic.DeriveComp.html#6270" class="Bound">ty</a> <a id="6273" href="Generics.Core.html#2006" class="InductiveConstructor Operator">∙⟦</a> <a id="6276" href="Tactic.DeriveComp.html#6276" class="Bound">c</a> <a id="6278" href="Generics.Core.html#2006" class="InductiveConstructor Operator">∣</a> <a id="6280" href="Tactic.DeriveComp.html#6280" class="Bound">s</a> <a id="6282" href="Generics.Core.html#2006" class="InductiveConstructor Operator">∣</a> <a id="6284" href="Tactic.DeriveComp.html#6284" class="Bound">sig</a> <a id="6288" href="Generics.Core.html#2006" class="InductiveConstructor Operator">∣</a> <a id="6290" href="Tactic.DeriveComp.html#6290" class="Bound">s&#39;</a> <a id="6293" href="Generics.Core.html#2006" class="InductiveConstructor Operator">⟧</a> <a id="6295" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="6297" href="Interface.MonadTC.html#8930" class="Function">goalTy</a>
           <a id="6315" class="Keyword">where</a> <a id="6321" href="Tactic.DeriveComp.html#6321" class="CatchallClause Bound">ty</a> <a id="6324" class="Symbol">→</a> <a id="6326" href="Interface.MonadError.html#369" class="Field">error</a> <a id="6332" class="Symbol">(</a><a id="6333" class="String">&quot;BUG: Unexpected type&quot;</a> <a id="6356" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="6359" href="Tactic.DeriveComp.html#6321" class="Bound">ty</a> <a id="6362" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="6365" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6367" class="Symbol">)</a>
         <a id="6378" href="Interface.Monad.html#290" class="Field">return</a> <a id="6385" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6387" class="Keyword">quote</a> <a id="6393" href="Relation.Binary.PropositionalEquality.Core.html#1794" class="Function">subst</a> <a id="6399" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∙⟦</a> <a id="6402" href="Tactic.DeriveComp.html#6270" class="Bound">ty</a> <a id="6405" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∙⟦</a> <a id="6408" href="Tactic.DeriveComp.html#6276" class="Bound">c</a> <a id="6410" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="6412" href="Tactic.DeriveComp.html#6280" class="Bound">s</a> <a id="6414" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="6416" href="Tactic.DeriveComp.html#6284" class="Bound">sig</a> <a id="6420" href="Generics.Core.html#1940" class="InductiveConstructor Operator">⟧</a> <a id="6422" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a> <a id="6424" class="Keyword">quote</a> <a id="6430" href="Data.Maybe.Properties.html#947" class="Function">just-injective</a> <a id="6445" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="6448" href="Tactic.DeriveComp.html#5955" class="Bound">reducedHyp</a> <a id="6459" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a> <a id="6461" href="Generics.Core.html#1940" class="InductiveConstructor Operator">∣</a>
                             <a id="6492" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="6496" href="Tactic.DeriveComp.html#5143" class="Bound">stsConstrName</a> <a id="6510" class="Symbol">(</a><a id="6511" href="Tactic.DeriveComp.html#3202" class="Function">curryPredProof</a> <a id="6526" class="Symbol">(</a><a id="6527" href="Data.List.Base.html#5058" class="Function">length</a> <a id="6534" href="Tactic.DeriveComp.html#5169" class="Bound">clauses</a><a id="6541" class="Symbol">)</a> <a id="6543" class="Symbol">(</a><a id="6544" href="Generics.Core.html#376" class="InductiveConstructor">♯</a> <a id="6546" class="Number">0</a><a id="6547" class="Symbol">))</a> <a id="6550" href="Generics.Core.html#1940" class="InductiveConstructor Operator">⟧</a><a id="6551" class="Symbol">)</a> <a id="6553" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6555" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6557" class="Symbol">)</a>
  <a id="6561" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="6575" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6577" href="Tactic.ClauseBuilder.html#7490" class="Function">clauseExprToPatLam</a> <a id="6596" href="Tactic.DeriveComp.html#5276" class="Bound">expr</a>
<a id="6601" href="Tactic.DeriveComp.html#5074" class="CatchallClause Function">derive⇒</a><a id="6608" class="CatchallClause"> </a><a id="6609" class="CatchallClause Symbol">_</a><a id="6610" class="CatchallClause"> </a><a id="6611" class="CatchallClause Symbol">_</a> <a id="6613" class="Symbol">=</a> <a id="6615" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="6622" class="String">&quot;TODO: support multiple constructors&quot;</a>

<a id="6661" class="Keyword">module</a> <a id="6668" href="Tactic.DeriveComp.html#6668" class="Module">_</a> <a id="6670" class="Symbol">⦃</a> <a id="6672" href="Tactic.DeriveComp.html#6672" class="Bound">_</a> <a id="6674" class="Symbol">:</a> <a id="6676" href="Reflection.Debug.html#2344" class="Record">DebugOptions</a> <a id="6689" class="Symbol">⦄</a> <a id="6691" class="Keyword">where</a>
  <a id="6699" href="Tactic.DeriveComp.html#6699" class="Function">derive⇔</a> <a id="6707" class="Symbol">:</a> <a id="6709" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="6714" class="Symbol">→</a> <a id="6716" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="6721" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="6731" class="Symbol">→</a> <a id="6733" href="Generics.Core.html#2462" class="Function">Tactic</a>
  <a id="6742" href="Tactic.DeriveComp.html#6699" class="Function">derive⇔</a> <a id="6750" href="Tactic.DeriveComp.html#6750" class="Bound">n</a> <a id="6752" href="Tactic.DeriveComp.html#6752" class="Bound">stsConstrs</a> <a id="6763" class="Symbol">=</a> <a id="6765" href="Tactic.Helpers.html#5927" class="Function">initTac</a> <a id="6773" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6775" href="Tactic.Helpers.html#2528" class="Function">inDebugPath</a> <a id="6787" class="String">&quot;derive⇔&quot;</a> <a id="6797" class="Keyword">do</a>
    <a id="6804" href="Tactic.DeriveComp.html#6804" class="Bound">hole⇒</a> <a id="6810" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="6812" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="6820" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
    <a id="6832" href="Tactic.DeriveComp.html#6832" class="Bound">hole⇐</a> <a id="6838" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="6840" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="6848" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
    <a id="6860" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="6874" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6876" class="Keyword">quote</a> <a id="6882" href="Function.Bundles.html#10043" class="Function">mk⇔</a> <a id="6886" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∙⟦</a> <a id="6889" href="Tactic.DeriveComp.html#6804" class="Bound">hole⇒</a> <a id="6895" href="Generics.Core.html#1887" class="InductiveConstructor Operator">∣</a> <a id="6897" href="Tactic.DeriveComp.html#6832" class="Bound">hole⇐</a> <a id="6903" href="Generics.Core.html#1887" class="InductiveConstructor Operator">⟧</a>
    <a id="6909" href="Interface.MonadTC.html#10492" class="Function">runWithHole</a> <a id="6921" href="Tactic.DeriveComp.html#6832" class="Bound">hole⇐</a> <a id="6927" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6929" href="Tactic.DeriveComp.html#4091" class="Function">derive⇐</a> <a id="6937" href="Tactic.DeriveComp.html#6752" class="Bound">stsConstrs</a>
    <a id="6952" href="Interface.MonadTC.html#10492" class="Function">runWithHole</a> <a id="6964" href="Tactic.DeriveComp.html#6804" class="Bound">hole⇒</a> <a id="6970" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6972" href="Tactic.DeriveComp.html#5074" class="Function">derive⇒</a> <a id="6980" href="Tactic.DeriveComp.html#6750" class="Bound">n</a> <a id="6982" href="Tactic.DeriveComp.html#6752" class="Bound">stsConstrs</a>

  <a id="6996" href="Tactic.DeriveComp.html#6996" class="Function">deriveComp</a> <a id="7007" class="Symbol">:</a> <a id="7009" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="7014" class="Symbol">→</a> <a id="7016" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="7021" href="Tactic.DeriveComp.html#998" class="Record">STSConstr</a> <a id="7031" class="Symbol">→</a> <a id="7033" href="Reflection.TCI.html#632" class="Function">TC</a> <a id="7036" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="7040" href="Tactic.DeriveComp.html#6996" class="Function">deriveComp</a> <a id="7051" href="Tactic.DeriveComp.html#7051" class="Bound">definedType</a> <a id="7063" href="Tactic.DeriveComp.html#7063" class="Bound">stsConstrs</a> <a id="7074" class="Symbol">=</a> <a id="7076" class="Keyword">do</a>
    <a id="7083" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="7092" class="Symbol">(</a><a id="7093" class="String">&quot;\nDerive computation function for: &quot;</a> <a id="7131" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="7134" href="Tactic.DeriveComp.html#7051" class="Bound">definedType</a> <a id="7146" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="7149" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7151" class="Symbol">)</a>
    <a id="7157" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="7171" class="Symbol">(</a><a id="7172" href="Tactic.DeriveComp.html#3894" class="Function">generateFunction</a> <a id="7189" href="Tactic.DeriveComp.html#7063" class="Bound">stsConstrs</a><a id="7199" class="Symbol">)</a>

  <a id="7204" href="Tactic.DeriveComp.html#7204" class="Function">deriveComputational</a> <a id="7224" class="Symbol">:</a> <a id="7226" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="7231" class="Symbol">→</a> <a id="7233" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="7238" class="Symbol">→</a> <a id="7240" href="Generics.Core.html#2484" class="Function">UnquoteDecl</a>
  <a id="7254" href="Tactic.DeriveComp.html#7204" class="Function">deriveComputational</a> <a id="7274" href="Tactic.DeriveComp.html#7274" class="Bound">n</a> <a id="7276" href="Tactic.DeriveComp.html#7276" class="Bound">compName</a> <a id="7285" class="Symbol">=</a>
    <a id="7291" href="Tactic.Helpers.html#6018" class="Function">initUnquoteWithGoal</a> <a id="7311" class="Symbol">(</a><a id="7312" class="Keyword">quoteTerm</a> <a id="7322" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a><a id="7326" class="Symbol">)</a> <a id="7328" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7330" href="Tactic.Helpers.html#2528" class="Function">inDebugPath</a> <a id="7342" class="String">&quot;deriveComputational&quot;</a> <a id="7364" class="Keyword">do</a>
      <a id="7373" class="Keyword">let</a> <a id="7377" href="Tactic.DeriveComp.html#7377" class="Bound">goalTy</a> <a id="7384" class="Symbol">=</a> <a id="7386" class="Keyword">quote</a> <a id="7392" href="Interface.ComputationalRelation.html#368" class="Record">Computational</a> <a id="7406" href="Generics.Core.html#1847" class="InductiveConstructor Operator">∙⟦</a> <a id="7409" href="Tactic.DeriveComp.html#7274" class="Bound">n</a> <a id="7411" href="Generics.Core.html#1823" class="InductiveConstructor Operator">∙</a> <a id="7413" href="Generics.Core.html#1847" class="InductiveConstructor Operator">⟧</a>
      <a id="7421" href="Interface.MonadTC.html#8620" class="Function">debugLog1</a> <a id="7431" href="Tactic.DeriveComp.html#7377" class="Bound">goalTy</a>
      <a id="7444" href="Interface.MonadTC.html#1932" class="Field">declareDef</a> <a id="7455" class="Symbol">(</a><a id="7456" href="Reflection.AST.Argument.html#1295" class="InductiveConstructor">vArg</a> <a id="7461" href="Tactic.DeriveComp.html#7276" class="Bound">compName</a><a id="7469" class="Symbol">)</a> <a id="7471" href="Tactic.DeriveComp.html#7377" class="Bound">goalTy</a>
      <a id="7484" href="Tactic.DeriveComp.html#7484" class="Bound">stsConstrs</a> <a id="7495" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7497" href="Tactic.DeriveComp.html#2551" class="Function">getSTSConstrs</a> <a id="7511" href="Tactic.DeriveComp.html#7274" class="Bound">n</a>
      <a id="7519" href="Tactic.DeriveComp.html#7519" class="Bound">compRes</a> <a id="7527" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7529" href="Tactic.Helpers.html#5060" class="Function">withSafeReset</a> <a id="7543" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7545" class="Keyword">do</a>
        <a id="7556" href="Tactic.DeriveComp.html#7556" class="Bound">compHole</a> <a id="7565" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7567" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="7575" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
        <a id="7591" href="Tactic.DeriveComp.html#7591" class="Bound">equivHole</a> <a id="7601" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7603" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="7611" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
        <a id="7627" href="Tactic.DeriveComp.html#7627" class="Bound">definition</a> <a id="7638" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7640" href="Interface.MonadTC.html#3435" class="Function">mkRecord</a> <a id="7649" class="Symbol">(</a><a id="7650" class="Keyword">quote</a> <a id="7656" href="Interface.ComputationalRelation.html#368" class="Record">Computational</a><a id="7669" class="Symbol">)</a> <a id="7671" class="Symbol">(</a><a id="7672" href="Tactic.DeriveComp.html#7556" class="Bound">compHole</a> <a id="7681" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="7685" href="Tactic.DeriveComp.html#7591" class="Bound">equivHole</a> <a id="7695" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="7699" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7701" class="Symbol">)</a>
        <a id="7711" class="Symbol">_</a> <a id="7713" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7715" href="Interface.MonadTC.html#1658" class="Field">checkType</a> <a id="7725" href="Tactic.DeriveComp.html#7627" class="Bound">definition</a> <a id="7736" href="Tactic.DeriveComp.html#7377" class="Bound">goalTy</a>
        <a id="7751" href="Interface.MonadTC.html#5942" class="Function">debugLog1ᵐ</a> <a id="7762" class="Symbol">(</a><a id="7763" href="Tactic.DeriveComp.html#7556" class="Bound">compHole</a> <a id="7772" href="Interface.MonadTC.html#5482" class="Function Operator">ᵗ</a><a id="7773" class="Symbol">)</a>
        <a id="7783" href="Interface.MonadTC.html#10492" class="Function">runWithHole</a> <a id="7795" href="Tactic.DeriveComp.html#7556" class="Bound">compHole</a> <a id="7804" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7806" href="Tactic.DeriveComp.html#6996" class="Function">deriveComp</a> <a id="7817" href="Tactic.DeriveComp.html#7274" class="Bound">n</a> <a id="7819" href="Tactic.DeriveComp.html#7484" class="Bound">stsConstrs</a>
        <a id="7838" href="Interface.MonadTC.html#1739" class="Field">reduce</a> <a id="7845" href="Tactic.DeriveComp.html#7556" class="Bound">compHole</a>
      <a id="7860" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="7869" class="Symbol">(</a><a id="7870" class="String">&quot;compRes: &quot;</a> <a id="7882" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="7885" href="Tactic.DeriveComp.html#7519" class="Bound">compRes</a> <a id="7893" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="7896" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7898" class="Symbol">)</a>
      <a id="7906" href="Tactic.DeriveComp.html#7906" class="Bound">cTy</a>   <a id="7912" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7914" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="7922" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
      <a id="7936" href="Tactic.DeriveComp.html#7936" class="Bound">sTy</a>   <a id="7942" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7944" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="7952" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
      <a id="7966" href="Tactic.DeriveComp.html#7966" class="Bound">sigTy</a> <a id="7972" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="7974" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="7982" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
      <a id="7996" class="Keyword">let</a> <a id="8000" href="Tactic.DeriveComp.html#8000" class="Bound">isoCxt</a> <a id="8007" class="Symbol">=</a> <a id="8009" class="Symbol">(</a><a id="8010" class="String">&quot;c&quot;</a> <a id="8014" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8016" href="Reflection.AST.Argument.html#1357" class="InductiveConstructor">hArg</a> <a id="8021" href="Tactic.DeriveComp.html#7906" class="Bound">cTy</a><a id="8024" class="Symbol">)</a> <a id="8026" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8028" class="Symbol">(</a><a id="8029" class="String">&quot;s&quot;</a> <a id="8033" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8035" href="Reflection.AST.Argument.html#1357" class="InductiveConstructor">hArg</a> <a id="8040" class="Symbol">(</a><a id="8041" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="8048" class="Number">1</a> <a id="8050" href="Tactic.DeriveComp.html#7936" class="Bound">sTy</a><a id="8053" class="Symbol">))</a> <a id="8056" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8058" class="Symbol">(</a><a id="8059" class="String">&quot;sig&quot;</a> <a id="8065" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8067" href="Reflection.AST.Argument.html#1357" class="InductiveConstructor">hArg</a> <a id="8072" class="Symbol">(</a><a id="8073" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="8080" class="Number">2</a> <a id="8082" href="Tactic.DeriveComp.html#7966" class="Bound">sigTy</a><a id="8087" class="Symbol">))</a> <a id="8090" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8092" class="Symbol">(</a><a id="8093" class="String">&quot;s&#39;&quot;</a> <a id="8098" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8100" href="Reflection.AST.Argument.html#1357" class="InductiveConstructor">hArg</a> <a id="8105" class="Symbol">(</a><a id="8106" href="Reflection.AST.DeBruijn.html#1470" class="Function">weaken</a> <a id="8113" class="Number">3</a> <a id="8115" href="Tactic.DeriveComp.html#7936" class="Bound">sTy</a><a id="8118" class="Symbol">))</a> <a id="8121" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8123" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="8132" href="Tactic.DeriveComp.html#8132" class="Bound">iso</a> <a id="8136" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="8138" href="Tactic.DeriveComp.html#4893" class="Function">extendRawContext</a> <a id="8155" href="Tactic.DeriveComp.html#8000" class="Bound">isoCxt</a> <a id="8162" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8164" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="8172" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
      <a id="8186" class="Keyword">let</a> <a id="8190" href="Tactic.DeriveComp.html#8190" class="Bound">isolam</a> <a id="8197" class="Symbol">=</a> <a id="8199" href="Generics.Core.html#1310" class="InductiveConstructor Operator">`λ⟅</a> <a id="8203" class="String">&quot;c&quot;</a> <a id="8207" href="Generics.Core.html#1310" class="InductiveConstructor Operator">⟆⇒</a> <a id="8210" href="Generics.Core.html#1310" class="InductiveConstructor Operator">`λ⟅</a> <a id="8214" class="String">&quot;s&quot;</a> <a id="8218" href="Generics.Core.html#1310" class="InductiveConstructor Operator">⟆⇒</a> <a id="8221" href="Generics.Core.html#1310" class="InductiveConstructor Operator">`λ⟅</a> <a id="8225" class="String">&quot;sig&quot;</a> <a id="8231" href="Generics.Core.html#1310" class="InductiveConstructor Operator">⟆⇒</a> <a id="8234" href="Generics.Core.html#1310" class="InductiveConstructor Operator">`λ⟅</a> <a id="8238" class="String">&quot;s&#39;&quot;</a> <a id="8243" href="Generics.Core.html#1310" class="InductiveConstructor Operator">⟆⇒</a> <a id="8246" href="Tactic.DeriveComp.html#8132" class="Bound">iso</a>
      <a id="8256" href="Tactic.DeriveComp.html#8256" class="Bound">definition</a> <a id="8267" href="Interface.Monad.html#311" class="Field Operator">←</a> <a id="8269" href="Interface.MonadTC.html#3435" class="Function">mkRecord</a> <a id="8278" class="Symbol">(</a><a id="8279" class="Keyword">quote</a> <a id="8285" href="Interface.ComputationalRelation.html#368" class="Record">Computational</a><a id="8298" class="Symbol">)</a> <a id="8300" class="Symbol">(</a><a id="8301" href="Tactic.DeriveComp.html#7519" class="Bound">compRes</a> <a id="8309" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="8313" href="Tactic.DeriveComp.html#8190" class="Bound">isolam</a> <a id="8320" href="Reflection.AST.Argument.html#1687" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="8324" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8326" class="Symbol">)</a>
      <a id="8334" href="Interface.MonadTC.html#2022" class="Field">defineFun</a> <a id="8344" href="Tactic.DeriveComp.html#7276" class="Bound">compName</a> <a id="8353" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="8355" href="Tactic.ClauseBuilder.html#7417" class="Function">nonBindingClause</a> <a id="8372" href="Tactic.DeriveComp.html#8256" class="Bound">definition</a> <a id="8383" href="Data.List.Base.html#5219" class="Function Operator">]</a>
      <a id="8391" href="Tactic.DeriveComp.html#4893" class="Function">extendRawContext</a> <a id="8408" href="Tactic.DeriveComp.html#8000" class="Bound">isoCxt</a> <a id="8415" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8417" class="Symbol">λ</a> <a id="8419" href="Tactic.DeriveComp.html#8419" class="Bound">_</a> <a id="8421" class="Symbol">→</a> <a id="8423" href="Tactic.DeriveComp.html#6699" class="Function">derive⇔</a> <a id="8431" href="Tactic.DeriveComp.html#7274" class="Bound">n</a> <a id="8433" href="Tactic.DeriveComp.html#7484" class="Bound">stsConstrs</a> <a id="8444" href="Tactic.DeriveComp.html#8132" class="Bound">iso</a>

<a id="8449" class="Keyword">private</a>
  <a id="8459" class="Keyword">open</a> <a id="8464" class="Keyword">import</a> <a id="8471" href="MyDebugOptions.html" class="Module">MyDebugOptions</a>

  <a id="8489" class="Keyword">module</a> <a id="8496" href="Tactic.DeriveComp.html#8496" class="Module">_</a> <a id="8498" class="Symbol">{</a><a id="8499" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="8501" href="Tactic.DeriveComp.html#8501" class="Bound">B</a> <a id="8503" class="Symbol">:</a> <a id="8505" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="8508" class="Symbol">}</a> <a id="8510" class="Symbol">⦃</a> <a id="8512" href="Tactic.DeriveComp.html#8512" class="Bound">_</a> <a id="8514" class="Symbol">:</a> <a id="8516" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="8522" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="8524" class="Symbol">⦄</a> <a id="8526" class="Symbol">⦃</a> <a id="8528" href="Tactic.DeriveComp.html#8528" class="Bound">_</a> <a id="8530" class="Symbol">:</a> <a id="8532" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="8538" href="Tactic.DeriveComp.html#8501" class="Bound">B</a> <a id="8540" class="Symbol">⦄</a> <a id="8542" class="Keyword">where</a>
    <a id="8552" class="Keyword">variable</a> <a id="8561" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="8563" class="Symbol">:</a> <a id="8565" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="8567" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="8569" href="Tactic.DeriveComp.html#8501" class="Bound">B</a>
             <a id="8584" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a> <a id="8586" href="Tactic.DeriveComp.html#8586" class="Generalizable">s&#39;</a> <a id="8589" class="Symbol">:</a> <a id="8591" href="Tactic.DeriveComp.html#8499" class="Bound">A</a>
             <a id="8606" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a> <a id="8610" class="Symbol">:</a> <a id="8612" href="Tactic.DeriveComp.html#8501" class="Bound">B</a>

    <a id="8619" class="Keyword">data</a> <a id="8624" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a> <a id="8629" class="Symbol">:</a> <a id="8631" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="8633" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="8635" href="Tactic.DeriveComp.html#8501" class="Bound">B</a> <a id="8637" class="Symbol">→</a> <a id="8639" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="8641" class="Symbol">→</a> <a id="8643" href="Tactic.DeriveComp.html#8501" class="Bound">B</a> <a id="8645" class="Symbol">→</a> <a id="8647" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="8649" class="Symbol">→</a> <a id="8651" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="8655" class="Keyword">where</a>
      <a id="8667" href="Tactic.DeriveComp.html#8667" class="InductiveConstructor">test</a> <a id="8672" class="Symbol">:</a> <a id="8674" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="8680" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="8682" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8684" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a>
           <a id="8697" class="Symbol">→</a> <a id="8699" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="8705" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="8707" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8709" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a>
           <a id="8724" class="Comment">------------------------</a>
           <a id="8760" class="Symbol">→</a> <a id="8762" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a> <a id="8767" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="8769" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a> <a id="8771" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a> <a id="8775" class="Symbol">(</a><a id="8776" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="8782" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a><a id="8783" class="Symbol">)</a>

    <a id="8790" class="Keyword">unquoteDecl</a> <a id="8802" href="Tactic.DeriveComp.html#8802" class="Function">Computational-Test</a> <a id="8821" class="Symbol">=</a> <a id="8823" href="Tactic.DeriveComp.html#7204" class="Function">deriveComputational</a> <a id="8843" class="Symbol">(</a><a id="8844" class="Keyword">quote</a> <a id="8850" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a><a id="8854" class="Symbol">)</a> <a id="8856" href="Tactic.DeriveComp.html#8802" class="Function">Computational-Test</a>

    <a id="8880" href="Tactic.DeriveComp.html#8880" class="Function">Computational-Test&#39;</a> <a id="8900" class="Symbol">:</a> <a id="8902" href="Interface.ComputationalRelation.html#368" class="Record">Computational</a> <a id="8916" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a>
    <a id="8925" href="Tactic.DeriveComp.html#8880" class="Function">Computational-Test&#39;</a> <a id="8945" class="Symbol">=</a> <a id="8947" href="Tactic.DeriveComp.html#8802" class="Function">Computational-Test</a>

    <a id="8971" class="Comment">-- Sanity checks</a>
    <a id="8992" href="Tactic.DeriveComp.html#8992" class="Function">testFun</a> <a id="9000" class="Symbol">:</a> <a id="9002" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="9004" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="9006" href="Tactic.DeriveComp.html#8501" class="Bound">B</a> <a id="9008" class="Symbol">→</a> <a id="9010" href="Tactic.DeriveComp.html#8499" class="Bound">A</a> <a id="9012" class="Symbol">→</a> <a id="9014" href="Tactic.DeriveComp.html#8501" class="Bound">B</a> <a id="9016" class="Symbol">→</a> <a id="9018" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="9024" href="Tactic.DeriveComp.html#8499" class="Bound">A</a>
    <a id="9030" href="Tactic.DeriveComp.html#8992" class="Function">testFun</a> <a id="9038" href="Tactic.DeriveComp.html#9038" class="Bound">c</a> <a id="9040" href="Tactic.DeriveComp.html#9040" class="Bound">s</a> <a id="9042" href="Tactic.DeriveComp.html#9042" class="Bound">sig</a> <a id="9046" class="Symbol">=</a> <a id="9048" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="9051" href="Relation.Nullary.Decidable.Core.html#3274" class="Function Operator">⌊</a> <a id="9053" href="Interface.Decidable.Instance.html#583" class="Function Operator">¿</a> <a id="9055" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="9061" href="Tactic.DeriveComp.html#9038" class="Bound">c</a> <a id="9063" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9065" href="Tactic.DeriveComp.html#9040" class="Bound">s</a> <a id="9067" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="9069" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="9075" href="Tactic.DeriveComp.html#9038" class="Bound">c</a> <a id="9077" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9079" href="Tactic.DeriveComp.html#9042" class="Bound">sig</a> <a id="9083" href="Interface.Decidable.Instance.html#583" class="Function Operator">¿</a> <a id="9085" href="Relation.Nullary.Decidable.Core.html#3274" class="Function Operator">⌋</a> <a id="9087" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="9092" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9097" class="Symbol">(</a><a id="9098" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="9104" href="Tactic.DeriveComp.html#9038" class="Bound">c</a><a id="9105" class="Symbol">)</a> <a id="9107" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="9112" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>

    <a id="9125" href="Tactic.DeriveComp.html#9125" class="Function">testFunPf⇒</a> <a id="9136" class="Symbol">:</a> <a id="9138" href="Tactic.DeriveComp.html#8992" class="Function">testFun</a> <a id="9146" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="9148" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a> <a id="9150" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a> <a id="9154" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9156" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9161" href="Tactic.DeriveComp.html#8586" class="Generalizable">s&#39;</a> <a id="9164" class="Symbol">→</a> <a id="9166" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a> <a id="9171" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="9173" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a> <a id="9175" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a> <a id="9179" href="Tactic.DeriveComp.html#8586" class="Generalizable">s&#39;</a>
    <a id="9186" href="Tactic.DeriveComp.html#9125" class="Function">testFunPf⇒</a> <a id="9197" class="Symbol">{</a><a id="9198" href="Tactic.DeriveComp.html#9198" class="Bound">c</a><a id="9199" class="Symbol">}</a> <a id="9201" class="Symbol">{</a><a id="9202" href="Tactic.DeriveComp.html#9202" class="Bound">s</a><a id="9203" class="Symbol">}</a> <a id="9205" class="Symbol">{</a><a id="9206" href="Tactic.DeriveComp.html#9206" class="Bound">sig</a><a id="9209" class="Symbol">}</a> <a id="9211" href="Tactic.DeriveComp.html#9211" class="Bound">h</a> <a id="9213" class="Symbol">=</a> <a id="9215" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="9220" href="Interface.Decidable.Instance.html#583" class="Function Operator">¿</a> <a id="9222" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="9228" href="Tactic.DeriveComp.html#9198" class="Bound">c</a> <a id="9230" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9232" href="Tactic.DeriveComp.html#9202" class="Bound">s</a> <a id="9234" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="9236" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="9242" href="Tactic.DeriveComp.html#9198" class="Bound">c</a> <a id="9244" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9246" href="Tactic.DeriveComp.html#9206" class="Bound">sig</a> <a id="9250" href="Interface.Decidable.Instance.html#583" class="Function Operator">¿</a> <a id="9252" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="9255" class="Symbol">λ</a> <a id="9257" class="Keyword">where</a>
      <a id="9269" class="Symbol">(</a><a id="9270" href="Relation.Nullary.Decidable.Core.html#1650" class="InductiveConstructor">no</a> <a id="9273" href="Tactic.DeriveComp.html#9273" class="Bound">¬p</a><a id="9275" class="Symbol">)</a> <a id="9277" class="Symbol">→</a> <a id="9279" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="9284" href="Tactic.ReduceDec.html#5259" class="Macro">by-reduceDec</a> <a id="9297" href="Tactic.DeriveComp.html#9211" class="Bound">h</a> <a id="9299" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="9302" class="Symbol">λ</a> <a id="9304" class="Symbol">()</a>
      <a id="9313" class="Symbol">(</a><a id="9314" href="Relation.Nullary.Decidable.Core.html#1613" class="InductiveConstructor">yes</a> <a id="9318" href="Tactic.DeriveComp.html#9318" class="Bound">p</a><a id="9319" class="Symbol">)</a> <a id="9321" class="Symbol">→</a> <a id="9323" href="Relation.Binary.PropositionalEquality.Core.html#1794" class="Function">subst</a> <a id="9329" class="Symbol">(</a><a id="9330" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a> <a id="9335" href="Tactic.DeriveComp.html#9198" class="Bound">c</a> <a id="9337" href="Tactic.DeriveComp.html#9202" class="Bound">s</a> <a id="9339" href="Tactic.DeriveComp.html#9206" class="Bound">sig</a><a id="9342" class="Symbol">)</a> <a id="9344" class="Symbol">(</a><a id="9345" href="Data.Maybe.Properties.html#947" class="Function">just-injective</a> <a id="9360" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="9362" href="Tactic.ReduceDec.html#5259" class="Macro">by-reduceDec</a> <a id="9375" href="Tactic.DeriveComp.html#9211" class="Bound">h</a><a id="9376" class="Symbol">)</a> <a id="9378" class="Symbol">(</a><a id="9379" href="Tactic.DeriveComp.html#8667" class="InductiveConstructor">test</a> <a id="9384" class="Symbol">(</a><a id="9385" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="9391" href="Tactic.DeriveComp.html#9318" class="Bound">p</a><a id="9392" class="Symbol">)</a> <a id="9394" class="Symbol">(</a><a id="9395" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="9401" href="Tactic.DeriveComp.html#9318" class="Bound">p</a><a id="9402" class="Symbol">))</a>

    <a id="9410" href="Tactic.DeriveComp.html#9410" class="Function">testFunPf⇐</a> <a id="9421" class="Symbol">:</a> <a id="9423" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a> <a id="9428" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="9430" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a> <a id="9432" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a> <a id="9436" href="Tactic.DeriveComp.html#8586" class="Generalizable">s&#39;</a> <a id="9439" class="Symbol">→</a> <a id="9441" href="Tactic.DeriveComp.html#8992" class="Function">testFun</a> <a id="9449" href="Tactic.DeriveComp.html#8561" class="Generalizable">c</a> <a id="9451" href="Tactic.DeriveComp.html#8584" class="Generalizable">s</a> <a id="9453" href="Tactic.DeriveComp.html#8606" class="Generalizable">sig</a> <a id="9457" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9459" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9464" href="Tactic.DeriveComp.html#8586" class="Generalizable">s&#39;</a>
    <a id="9471" href="Tactic.DeriveComp.html#9410" class="Function">testFunPf⇐</a> <a id="9482" class="Symbol">{</a><a id="9483" class="Argument">s</a> <a id="9485" class="Symbol">=</a> <a id="9487" href="Tactic.DeriveComp.html#9487" class="Bound">s</a><a id="9488" class="Symbol">}</a> <a id="9490" class="Symbol">(</a><a id="9491" href="Tactic.DeriveComp.html#8667" class="InductiveConstructor">test</a> <a id="9496" href="Tactic.DeriveComp.html#9496" class="Bound">x</a> <a id="9498" href="Tactic.DeriveComp.html#9498" class="Bound">x₁</a><a id="9500" class="Symbol">)</a> <a id="9502" class="Symbol">=</a> <a id="9504" href="Tactic.ReduceDec.html#5346" class="Macro">by-reduceDecInGoal</a> <a id="9523" class="Symbol">(</a><a id="9524" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="9529" class="Symbol">{</a><a id="9530" class="Argument">x</a> <a id="9532" class="Symbol">=</a> <a id="9534" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9539" href="Tactic.DeriveComp.html#9487" class="Bound">s</a><a id="9540" class="Symbol">})</a>

    <a id="9548" href="Tactic.DeriveComp.html#9548" class="Function">Computational-Test-Manual</a> <a id="9574" class="Symbol">:</a> <a id="9576" href="Interface.ComputationalRelation.html#368" class="Record">Computational</a> <a id="9590" href="Tactic.DeriveComp.html#8624" class="Datatype">Test</a>
    <a id="9599" href="Tactic.DeriveComp.html#9548" class="Function">Computational-Test-Manual</a> <a id="9625" class="Symbol">=</a> <a id="9627" class="Keyword">record</a> <a id="9634" class="Symbol">{</a> <a id="9636" href="Interface.ComputationalRelation.html#442" class="Field">compute</a> <a id="9644" class="Symbol">=</a> <a id="9646" href="Tactic.DeriveComp.html#8992" class="Function">testFun</a> <a id="9654" class="Symbol">;</a> <a id="9656" href="Interface.ComputationalRelation.html#480" class="Field">≡-just⇔STS</a> <a id="9667" class="Symbol">=</a> <a id="9669" href="Function.Bundles.html#10043" class="Function">mk⇔</a> <a id="9673" href="Tactic.DeriveComp.html#9125" class="Function">testFunPf⇒</a> <a id="9684" href="Tactic.DeriveComp.html#9410" class="Function">testFunPf⇐</a> <a id="9695" class="Symbol">}</a>

    <a id="9702" href="Tactic.DeriveComp.html#9702" class="Function">testFun≡compute</a> <a id="9718" class="Symbol">:</a> <a id="9720" class="Symbol">∀</a> <a id="9722" class="Symbol">{</a><a id="9723" href="Tactic.DeriveComp.html#9723" class="Bound">c</a> <a id="9725" href="Tactic.DeriveComp.html#9725" class="Bound">s</a> <a id="9727" href="Tactic.DeriveComp.html#9727" class="Bound">sig</a><a id="9730" class="Symbol">}</a> <a id="9732" class="Symbol">→</a> <a id="9734" href="Tactic.DeriveComp.html#8992" class="Function">testFun</a> <a id="9742" href="Tactic.DeriveComp.html#9723" class="Bound">c</a> <a id="9744" href="Tactic.DeriveComp.html#9725" class="Bound">s</a> <a id="9746" href="Tactic.DeriveComp.html#9727" class="Bound">sig</a> <a id="9750" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9752" href="Interface.ComputationalRelation.html#442" class="Field">Computational.compute</a> <a id="9774" href="Tactic.DeriveComp.html#8802" class="Function">Computational-Test</a> <a id="9793" href="Tactic.DeriveComp.html#9723" class="Bound">c</a> <a id="9795" href="Tactic.DeriveComp.html#9725" class="Bound">s</a> <a id="9797" href="Tactic.DeriveComp.html#9727" class="Bound">sig</a>
    <a id="9805" href="Tactic.DeriveComp.html#9702" class="Function">testFun≡compute</a> <a id="9821" class="Symbol">=</a> <a id="9823" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre></body></html>