<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.TokenAlgebra.ValueSet</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\subsection{Value Set}
\label{sec:tokenalgebra-valueset}

</a><a id="59" class="Markup">\begin{code}[hide]</a>
<a id="78" class="Symbol">{-#</a> <a id="82" class="Keyword">OPTIONS</a> <a id="90" class="Pragma">--safe</a> <a id="97" class="Pragma">--no-import-sorts</a> <a id="115" class="Symbol">#-}</a>

<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="147" class="Keyword">using</a> <a id="153" class="Symbol">()</a> <a id="156" class="Keyword">renaming</a> <a id="165" class="Symbol">(</a><a id="166" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="170" class="Symbol">to</a> <a id="173" class="Primitive">Type</a><a id="177" class="Symbol">)</a>

<a id="180" class="Keyword">module</a> <a id="187" href="Ledger.TokenAlgebra.ValueSet.html" class="Module">Ledger.TokenAlgebra.ValueSet</a> <a id="216" class="Symbol">(</a><a id="217" href="Ledger.TokenAlgebra.ValueSet.html#217" class="Bound">PolicyId</a> <a id="226" href="Ledger.TokenAlgebra.ValueSet.html#226" class="Bound">AssetName</a> <a id="236" class="Symbol">:</a> <a id="238" href="Ledger.TokenAlgebra.ValueSet.html#173" class="Primitive">Type</a><a id="242" class="Symbol">)</a> <a id="244" class="Keyword">where</a>

<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>                         <a id="302" class="Keyword">hiding</a> <a id="309" class="Symbol">(</a><a id="310" href="Data.List.Base.html#6300" class="Function">lookup</a> <a id="317" class="Symbol">;</a> <a id="319" href="Axiom.Set.Map.html#9550" class="Function">update</a> <a id="326" class="Symbol">;</a> <a id="328" href="Relation.Binary.PropositionalEquality.Algebra.html#656" class="Function">isMagma</a> <a id="336" class="Symbol">;</a> <a id="338" href="Relation.Binary.PropositionalEquality.Properties.html#5112" class="Function">isEquivalence</a><a id="351" class="Symbol">)</a> <a id="353" class="Keyword">renaming</a> <a id="362" class="Symbol">(</a><a id="363" href="Axiom.Set.TotalMap.html#824" class="Record">TotalMap</a> <a id="372" class="Symbol">to</a> <a id="375" class="Record">_⇒_</a><a id="378" class="Symbol">)</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Ledger.TokenAlgebra.html" class="Module">Ledger.TokenAlgebra</a> <a id="412" href="Ledger.TokenAlgebra.ValueSet.html#217" class="Bound">PolicyId</a>           <a id="431" class="Keyword">using</a> <a id="437" class="Symbol">(</a><a id="438" href="Ledger.TokenAlgebra.html#499" class="Record">TokenAlgebra</a><a id="450" class="Symbol">)</a>

<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="Algebra.html" class="Module">Algebra</a>                                <a id="504" class="Keyword">using</a> <a id="510" class="Symbol">(</a><a id="511" href="Algebra.Bundles.html#6578" class="Record">CommutativeMonoid</a> <a id="529" class="Symbol">;</a> <a id="531" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="535" class="Symbol">;</a> <a id="537" href="Algebra.Structures.html#2789" class="Record">IsSemigroup</a> <a id="549" class="Symbol">;</a> <a id="551" href="Algebra.Structures.html#3866" class="Record">IsMonoid</a> <a id="560" class="Symbol">;</a> <a id="562" href="Algebra.Structures.html#1117" class="Record">IsMagma</a> <a id="570" class="Symbol">;</a> <a id="572" href="Algebra.Structures.html#4276" class="Record">IsCommutativeMonoid</a><a id="591" class="Symbol">)</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>                       <a id="644" class="Keyword">using</a> <a id="650" class="Symbol">(</a><a id="651" href="Algebra.Morphism.Structures.html#2756" class="Record">IsMonoidHomomorphism</a> <a id="672" class="Symbol">;</a> <a id="674" href="Algebra.Morphism.Structures.html#1103" class="Record">IsMagmaHomomorphism</a><a id="693" class="Symbol">)</a>
<a id="695" class="Keyword">open</a> <a id="700" class="Keyword">import</a> <a id="707" href="Data.Nat.html" class="Module">Data.Nat</a>                               <a id="746" class="Keyword">using</a> <a id="752" class="Symbol">(</a><a id="753" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="756" class="Symbol">)</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>                    <a id="809" class="Keyword">using</a> <a id="815" class="Symbol">(</a><a id="816" href="Data.Nat.Properties.html#14777" class="Function">+-comm</a> <a id="823" class="Symbol">;</a> <a id="825" href="Data.Nat.Properties.html#14444" class="Function">+-assoc</a> <a id="833" class="Symbol">;</a> <a id="835" href="Data.Nat.Properties.html#14600" class="Function">+-identityʳ</a> <a id="847" class="Symbol">;</a> <a id="849" href="Data.Nat.Properties.html#16466" class="Function">+-0-commutativeMonoid</a><a id="870" class="Symbol">)</a>
<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="Function.Related.TypeIsomorphisms.html" class="Module">Function.Related.TypeIsomorphisms</a>      <a id="923" class="Keyword">using</a> <a id="929" class="Symbol">(</a><a id="930" href="Function.Related.TypeIsomorphisms.html#12059" class="Function">Σ-≡,≡→≡</a><a id="937" class="Symbol">)</a>
<a id="939" class="Keyword">open</a> <a id="944" class="Keyword">import</a> <a id="951" href="Relation.Binary.html" class="Module">Relation.Binary</a>                        <a id="990" class="Keyword">using</a> <a id="996" class="Symbol">(</a><a id="997" href="Relation.Binary.Structures.html#1536" class="Record">IsEquivalence</a><a id="1010" class="Symbol">)</a>
<a id="1012" class="Keyword">open</a> <a id="1017" class="Keyword">import</a> <a id="1024" href="Relation.Binary.Morphism.html" class="Module">Relation.Binary.Morphism</a>               <a id="1063" class="Keyword">using</a> <a id="1069" class="Symbol">(</a><a id="1070" href="Relation.Binary.Morphism.Structures.html#706" class="Record">IsRelHomomorphism</a><a id="1087" class="Symbol">)</a>
<a id="1089" class="Keyword">open</a> <a id="1094" class="Keyword">import</a> <a id="1101" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>  <a id="1140" class="Keyword">using</a> <a id="1146" class="Symbol">(</a><a id="1147" class="Keyword">module</a> <a id="1154" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a><a id="1165" class="Symbol">)</a>

<a id="1168" class="Keyword">import</a> <a id="1175" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1213" class="Symbol">as</a> <a id="1216" class="Module">≡</a>
<a id="1218" class="Keyword">import</a> <a id="1225" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a>  <a id="1247" class="Symbol">as</a> <a id="1250" class="Module">stdlib</a>
<a id="1257" class="Markup">\end{code}</a><a id="1267" class="Background">

\subsubsection{Derived types}

(See Fig 3 of the
\href{https://github.com/input-output-hk/cardano-ledger/releases/latest/download/mary-ledger.pdf}%
{Mary ledger specification}.)

\begin{itemize}
\item \AgdaBound{AssetName} is a byte string used to distinguish different assets with the same \AgdaBound{PolicyId}.
\item \AgdaBound{AssetId} is a product type consisting of a \AgdaBound{PolicyId} and an \AgdaBound{AssetName}.
\item \AgdaBound{AdaId} is the Id for the asset Ada.
\item \AgdaBound{Quantity} is the type of amounts of assets.
\end{itemize}

In the formal ledger specification \AgdaBound{AssetId} is sometimes viewed as a direct sum type,
the inhabitants of which belong to either \AgdaBound{AdaIdType} or the product
\AgdaBound{PolicyId}~\AgdaBound{×}~\AgdaBound{AssetName}; if we were adhering to that point of view,
then we would have defined
\AgdaBound{AssetId}
  = \AgdaBound{AdaIdType}~\AgdaBound{⊎}~(\AgdaBound{PolicyId}~\AgdaBound{×}~\AgdaBound{AssetName}).

Finally, we define a record type with a single inhabitant with which we may wish to
represent the type of Ada (rather than viewing Ada as just another asset).

</a><a id="2407" class="Markup">\begin{code}</a>
<a id="2420" class="Keyword">record</a> <a id="AdaIdType"></a><a id="2427" href="Ledger.TokenAlgebra.ValueSet.html#2427" class="Record">AdaIdType</a> <a id="2437" class="Symbol">:</a> <a id="2439" href="Ledger.TokenAlgebra.ValueSet.html#173" class="Primitive">Type</a> <a id="2444" class="Keyword">where</a>
  <a id="2452" class="Keyword">instance</a> <a id="2461" class="Keyword">constructor</a> <a id="AdaId"></a><a id="2473" href="Ledger.TokenAlgebra.ValueSet.html#2473" class="InductiveConstructor">AdaId</a>
<a id="2479" class="Markup">\end{code}</a><a id="2489" class="Background">


\subsection{Definition of the value monoid}

An inhabitant of `Value` is a map denoting a finite collection of quantities of assets.

</a><a id="2626" class="Markup">\begin{code}</a>
<a id="2639" class="Keyword">open</a> <a id="2644" href="Algebra.Bundles.html#6578" class="Module">CommutativeMonoid</a> <a id="2662" class="Keyword">renaming</a> <a id="2671" class="Symbol">(</a><a id="2672" href="Algebra.Bundles.html#6740" class="Field Operator">_∙_</a> <a id="2676" class="Symbol">to</a> <a id="2679" class="Field Operator">_⋆_</a><a id="2682" class="Symbol">)</a> <a id="2684" class="Keyword">hiding</a> <a id="2691" class="Symbol">(</a><a id="2692" href="Relation.Binary.Structures.html#1582" class="Function">refl</a> <a id="2697" class="Symbol">;</a> <a id="2699" href="Relation.Binary.Structures.html#1608" class="Function">sym</a> <a id="2703" class="Symbol">;</a> <a id="2705" href="Relation.Binary.Structures.html#1634" class="Function">trans</a><a id="2710" class="Symbol">)</a>

<a id="AssetId"></a><a id="2713" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="2721" class="Symbol">:</a> <a id="2723" href="Ledger.TokenAlgebra.ValueSet.html#173" class="Primitive">Type</a>
<a id="2728" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="2736" class="Symbol">=</a> <a id="2738" href="Ledger.TokenAlgebra.ValueSet.html#217" class="Bound">PolicyId</a> <a id="2747" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2749" href="Ledger.TokenAlgebra.ValueSet.html#226" class="Bound">AssetName</a>

<a id="2760" class="Keyword">module</a> <a id="2767" href="Ledger.TokenAlgebra.ValueSet.html#2767" class="Module">_</a>
  <a id="2771" class="Symbol">{</a><a id="2772" href="Ledger.TokenAlgebra.ValueSet.html#2772" class="Bound">X</a> <a id="2774" class="Symbol">:</a> <a id="2776" href="Ledger.Prelude.html#1583" class="Function Operator">ℙ</a> <a id="2778" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a><a id="2785" class="Symbol">}</a>
  <a id="2789" class="Symbol">{</a><a id="2790" href="Ledger.TokenAlgebra.ValueSet.html#2790" class="Bound">⋁A</a> <a id="2793" class="Symbol">:</a> <a id="2795" href="Axiom.Set.html#4254" class="Function">isMaximal</a> <a id="2805" href="Ledger.TokenAlgebra.ValueSet.html#2772" class="Bound">X</a><a id="2806" class="Symbol">}</a>
  <a id="2810" class="Symbol">⦃</a> <a id="2812" href="Ledger.TokenAlgebra.ValueSet.html#2812" class="Bound">dec</a> <a id="2816" class="Symbol">:</a> <a id="2818" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2824" class="Symbol">(</a><a id="2825" href="Ledger.TokenAlgebra.ValueSet.html#217" class="Bound">PolicyId</a> <a id="2834" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2836" href="Ledger.TokenAlgebra.ValueSet.html#226" class="Bound">AssetName</a><a id="2845" class="Symbol">)</a> <a id="2847" class="Symbol">⦄</a>
  <a id="2851" class="Keyword">where</a>

  <a id="2860" class="Keyword">open</a> <a id="2865" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Module">_⇒_</a>
  <a id="2871" class="Keyword">open</a> <a id="2876" href="Relation.Binary.PropositionalEquality.Core.html#2722" class="Module">≡-Reasoning</a>
  <a id="2890" class="Keyword">open</a> <a id="2895" href="Axiom.Set.TotalMap.html#2750" class="Module">FunTot</a> <a id="2902" href="Ledger.TokenAlgebra.ValueSet.html#2772" class="Bound">X</a> <a id="2904" href="Ledger.TokenAlgebra.ValueSet.html#2790" class="Bound">⋁A</a>

  <a id="2910" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="2919" class="Symbol">:</a> <a id="2921" href="Ledger.TokenAlgebra.ValueSet.html#173" class="Primitive">Type</a>
  <a id="2928" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="2937" class="Symbol">=</a> <a id="2939" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

  <a id="2944" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a> <a id="2948" class="Symbol">:</a> <a id="2950" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2954" class="Symbol">(</a><a id="2955" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="2963" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="2965" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a><a id="2973" class="Symbol">)</a>
  <a id="2977" href="Ledger.TokenAlgebra.ValueSet.html#2977" class="Bound">u</a> <a id="2979" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="2981" href="Ledger.TokenAlgebra.ValueSet.html#2981" class="Bound">v</a> <a id="2983" class="Symbol">=</a> <a id="2985" href="Axiom.Set.TotalMap.html#2938" class="Function">Fun⇒TotalMap</a> <a id="2998" class="Symbol">λ</a> <a id="3000" href="Ledger.TokenAlgebra.ValueSet.html#3000" class="Bound">aa</a> <a id="3003" class="Symbol">→</a> <a id="3005" class="Symbol">(</a><a id="3006" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3013" href="Ledger.TokenAlgebra.ValueSet.html#2977" class="Bound">u</a><a id="3014" class="Symbol">)</a> <a id="3016" href="Ledger.TokenAlgebra.ValueSet.html#3000" class="Bound">aa</a> <a id="3019" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="3021" class="Symbol">(</a><a id="3022" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3029" href="Ledger.TokenAlgebra.ValueSet.html#2981" class="Bound">v</a><a id="3030" class="Symbol">)</a> <a id="3032" href="Ledger.TokenAlgebra.ValueSet.html#3000" class="Bound">aa</a>

  <a id="3038" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="3046" class="Symbol">:</a>  <a id="3049" class="Symbol">(</a><a id="3050" href="Ledger.TokenAlgebra.ValueSet.html#3050" class="Bound">u</a> <a id="3052" href="Ledger.TokenAlgebra.ValueSet.html#3052" class="Bound">v</a> <a id="3054" class="Symbol">:</a> <a id="3056" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="3064" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="3066" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a><a id="3074" class="Symbol">){</a><a id="3076" href="Ledger.TokenAlgebra.ValueSet.html#3076" class="Bound">aa</a> <a id="3079" class="Symbol">:</a> <a id="3081" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a><a id="3088" class="Symbol">}</a>
             <a id="3103" class="Symbol">→</a> <a id="3105" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3112" class="Symbol">(</a><a id="3113" href="Ledger.TokenAlgebra.ValueSet.html#3050" class="Bound">u</a> <a id="3115" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="3117" href="Ledger.TokenAlgebra.ValueSet.html#3052" class="Bound">v</a><a id="3118" class="Symbol">)</a> <a id="3120" href="Ledger.TokenAlgebra.ValueSet.html#3076" class="Bound">aa</a> <a id="3123" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3125" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3132" href="Ledger.TokenAlgebra.ValueSet.html#3050" class="Bound">u</a> <a id="3134" href="Ledger.TokenAlgebra.ValueSet.html#3076" class="Bound">aa</a> <a id="3137" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="3139" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3146" href="Ledger.TokenAlgebra.ValueSet.html#3052" class="Bound">v</a> <a id="3148" href="Ledger.TokenAlgebra.ValueSet.html#3076" class="Bound">aa</a>
  <a id="3153" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="3161" class="Symbol">_</a> <a id="3163" class="Symbol">_</a> <a id="3165" class="Symbol">=</a> <a id="3167" href="Axiom.Set.TotalMap.html#3287" class="Function">lookup∘Fun⇒TotalMap-id</a>

  <a id="3193" href="Ledger.TokenAlgebra.ValueSet.html#3193" class="Function">zeroFun</a> <a id="3201" class="Symbol">:</a> <a id="3203" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="3211" class="Symbol">→</a> <a id="3213" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a>
  <a id="3224" href="Ledger.TokenAlgebra.ValueSet.html#3193" class="Function">zeroFun</a> <a id="3232" class="Symbol">=</a> <a id="3234" class="Symbol">λ</a> <a id="3236" href="Ledger.TokenAlgebra.ValueSet.html#3236" class="Bound">_</a> <a id="3238" class="Symbol">→</a> <a id="3240" class="Number">0</a>

  <a id="3245" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="3247" class="Symbol">:</a> <a id="3249" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="3257" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="3259" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a>
  <a id="3270" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="3272" class="Symbol">=</a> <a id="3274" href="Axiom.Set.TotalMap.html#2938" class="Function">Fun⇒TotalMap</a> <a id="3287" href="Ledger.TokenAlgebra.ValueSet.html#3193" class="Function">zeroFun</a>

  <a id="3298" href="Ledger.TokenAlgebra.ValueSet.html#3298" class="Function">lookupι≡0</a> <a id="3308" class="Symbol">:</a>  <a id="3311" class="Symbol">∀{</a><a id="3313" href="Ledger.TokenAlgebra.ValueSet.html#3313" class="Bound">a</a><a id="3314" class="Symbol">}</a> <a id="3316" class="Symbol">→</a> <a id="3318" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3325" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="3327" href="Ledger.TokenAlgebra.ValueSet.html#3313" class="Bound">a</a> <a id="3329" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3331" class="Number">0</a>
  <a id="3335" href="Ledger.TokenAlgebra.ValueSet.html#3298" class="Function">lookupι≡0</a> <a id="3345" class="Symbol">=</a> <a id="3347" href="Axiom.Set.TotalMap.html#1282" class="Function">∈-rel⇒lookup-≡</a> <a id="3362" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="3364" class="Symbol">(</a><a id="3365" href="Axiom.Set.html#5090" class="Function">∈-map′</a> <a id="3372" href="Ledger.TokenAlgebra.ValueSet.html#2790" class="Bound">⋁A</a><a id="3374" class="Symbol">)</a>

  <a id="3379" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="3383" class="Symbol">:</a> <a id="3385" href="Relation.Binary.Core.html#882" class="Function">stdlib.Rel</a> <a id="3396" class="Symbol">(</a><a id="3397" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="3405" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="3407" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a><a id="3415" class="Symbol">)</a> <a id="3417" href="Level.html#512" class="Function">0ℓ</a>
  <a id="3422" href="Ledger.TokenAlgebra.ValueSet.html#3422" class="Bound">u</a> <a id="3424" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">≋</a> <a id="3426" href="Ledger.TokenAlgebra.ValueSet.html#3426" class="Bound">v</a> <a id="3428" class="Symbol">=</a> <a id="3430" class="Symbol">∀{</a><a id="3432" href="Ledger.TokenAlgebra.ValueSet.html#3432" class="Bound">aa</a><a id="3434" class="Symbol">}</a> <a id="3436" class="Symbol">→</a> <a id="3438" class="Symbol">(</a><a id="3439" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3446" href="Ledger.TokenAlgebra.ValueSet.html#3422" class="Bound">u</a><a id="3447" class="Symbol">)</a> <a id="3449" href="Ledger.TokenAlgebra.ValueSet.html#3432" class="Bound">aa</a> <a id="3452" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3454" class="Symbol">(</a><a id="3455" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3462" href="Ledger.TokenAlgebra.ValueSet.html#3426" class="Bound">v</a><a id="3463" class="Symbol">)</a> <a id="3465" href="Ledger.TokenAlgebra.ValueSet.html#3432" class="Bound">aa</a>

  <a id="3471" href="Ledger.TokenAlgebra.ValueSet.html#3471" class="Function">≋-isEquivalence</a> <a id="3487" class="Symbol">:</a> <a id="3489" href="Relation.Binary.Structures.html#1536" class="Record">IsEquivalence</a> <a id="3503" class="Symbol">{</a><a id="3504" href="Level.html#512" class="Function">0ℓ</a><a id="3506" class="Symbol">}</a> <a id="3508" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a>
  <a id="3514" href="Ledger.TokenAlgebra.ValueSet.html#3471" class="Function">≋-isEquivalence</a> <a id="3530" class="Symbol">=</a> <a id="3532" class="Keyword">record</a> <a id="3539" class="Symbol">{</a> <a id="3541" href="Relation.Binary.Structures.html#1582" class="Field">refl</a> <a id="3546" class="Symbol">=</a> <a id="3548" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">≡.refl</a> <a id="3555" class="Symbol">;</a> <a id="3557" href="Relation.Binary.Structures.html#1608" class="Field">sym</a> <a id="3561" class="Symbol">=</a> <a id="3563" class="Symbol">λ</a> <a id="3565" href="Ledger.TokenAlgebra.ValueSet.html#3565" class="Bound">x</a> <a id="3567" class="Symbol">→</a> <a id="3569" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">≡.sym</a> <a id="3575" href="Ledger.TokenAlgebra.ValueSet.html#3565" class="Bound">x</a> <a id="3577" class="Symbol">;</a> <a id="3579" href="Relation.Binary.Structures.html#1634" class="Field">trans</a> <a id="3585" class="Symbol">=</a> <a id="3587" class="Symbol">λ</a> <a id="3589" href="Ledger.TokenAlgebra.ValueSet.html#3589" class="Bound">x</a> <a id="3591" href="Ledger.TokenAlgebra.ValueSet.html#3591" class="Bound">y</a> <a id="3593" class="Symbol">→</a> <a id="3595" href="Relation.Binary.PropositionalEquality.Core.html#1743" class="Function">≡.trans</a> <a id="3603" href="Ledger.TokenAlgebra.ValueSet.html#3589" class="Bound">x</a> <a id="3605" href="Ledger.TokenAlgebra.ValueSet.html#3591" class="Bound">y</a> <a id="3607" class="Symbol">}</a>

  <a id="3612" href="Ledger.TokenAlgebra.ValueSet.html#3612" class="Function">⊕-cong</a> <a id="3619" class="Symbol">:</a> <a id="3621" href="Algebra.Definitions.html#1187" class="Function">Algebra.Congruent₂</a> <a id="3640" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="3644" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a>
  <a id="3650" href="Ledger.TokenAlgebra.ValueSet.html#3612" class="Function">⊕-cong</a> <a id="3657" class="Symbol">{</a><a id="3658" href="Ledger.TokenAlgebra.ValueSet.html#3658" class="Bound">x</a><a id="3659" class="Symbol">}{</a><a id="3661" href="Ledger.TokenAlgebra.ValueSet.html#3661" class="Bound">y</a><a id="3662" class="Symbol">}{</a><a id="3664" href="Ledger.TokenAlgebra.ValueSet.html#3664" class="Bound">u</a><a id="3665" class="Symbol">}{</a><a id="3667" href="Ledger.TokenAlgebra.ValueSet.html#3667" class="Bound">v</a><a id="3668" class="Symbol">}</a> <a id="3670" href="Ledger.TokenAlgebra.ValueSet.html#3670" class="Bound">x≋y</a> <a id="3674" href="Ledger.TokenAlgebra.ValueSet.html#3674" class="Bound">u≋v</a> <a id="3678" class="Symbol">{</a><a id="3679" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a><a id="3680" class="Symbol">}</a> <a id="3682" class="Symbol">=</a> <a id="3684" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
    <a id="3694" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3701" class="Symbol">(</a><a id="3702" href="Ledger.TokenAlgebra.ValueSet.html#3658" class="Bound">x</a> <a id="3704" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="3706" href="Ledger.TokenAlgebra.ValueSet.html#3664" class="Bound">u</a><a id="3707" class="Symbol">)</a> <a id="3709" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a>         <a id="3719" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="3722" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="3730" href="Ledger.TokenAlgebra.ValueSet.html#3658" class="Bound">x</a> <a id="3732" href="Ledger.TokenAlgebra.ValueSet.html#3664" class="Bound">u</a> <a id="3734" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="3740" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3747" href="Ledger.TokenAlgebra.ValueSet.html#3658" class="Bound">x</a> <a id="3749" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a> <a id="3751" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="3753" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3760" href="Ledger.TokenAlgebra.ValueSet.html#3664" class="Bound">u</a> <a id="3762" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a>  <a id="3765" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="3768" href="Relation.Binary.PropositionalEquality.Core.html#1381" class="Function">cong₂</a> <a id="3774" href="Interface.HasAdd.html#135" class="Field Operator">_+_</a> <a id="3778" href="Ledger.TokenAlgebra.ValueSet.html#3670" class="Bound">x≋y</a> <a id="3782" href="Ledger.TokenAlgebra.ValueSet.html#3674" class="Bound">u≋v</a> <a id="3786" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="3792" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3799" href="Ledger.TokenAlgebra.ValueSet.html#3661" class="Bound">y</a> <a id="3801" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a> <a id="3803" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="3805" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3812" href="Ledger.TokenAlgebra.ValueSet.html#3667" class="Bound">v</a> <a id="3814" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a>  <a id="3817" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="3820" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">≡.sym</a> <a id="3826" class="Symbol">(</a><a id="3827" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="3835" href="Ledger.TokenAlgebra.ValueSet.html#3661" class="Bound">y</a> <a id="3837" href="Ledger.TokenAlgebra.ValueSet.html#3667" class="Bound">v</a><a id="3838" class="Symbol">)</a> <a id="3840" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="3846" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3853" class="Symbol">(</a><a id="3854" href="Ledger.TokenAlgebra.ValueSet.html#3661" class="Bound">y</a> <a id="3856" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="3858" href="Ledger.TokenAlgebra.ValueSet.html#3667" class="Bound">v</a><a id="3859" class="Symbol">)</a> <a id="3861" href="Ledger.TokenAlgebra.ValueSet.html#3679" class="Bound">a</a>         <a id="3871" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a>

  <a id="3876" href="Ledger.TokenAlgebra.ValueSet.html#3876" class="Function">⊕-comm</a> <a id="3883" class="Symbol">:</a> <a id="3885" href="Algebra.Definitions.html#1520" class="Function">Algebra.Commutative</a> <a id="3905" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="3909" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a>
  <a id="3915" href="Ledger.TokenAlgebra.ValueSet.html#3876" class="Function">⊕-comm</a> <a id="3922" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a> <a id="3924" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="3926" class="Symbol">{</a><a id="3927" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a><a id="3929" class="Symbol">}</a> <a id="3931" class="Symbol">=</a> <a id="3933" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
    <a id="3943" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3950" class="Symbol">(</a><a id="3951" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a> <a id="3953" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="3955" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a><a id="3956" class="Symbol">)</a> <a id="3958" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a>          <a id="3970" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="3973" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="3981" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a> <a id="3983" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="3985" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="3991" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="3998" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a> <a id="4000" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a> <a id="4003" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4005" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4012" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="4014" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a>  <a id="4018" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4021" href="Data.Nat.Properties.html#14777" class="Function">+-comm</a> <a id="4028" class="Symbol">(</a><a id="4029" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4036" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a> <a id="4038" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a><a id="4040" class="Symbol">)</a> <a id="4042" class="Symbol">(</a><a id="4043" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4050" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="4052" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a><a id="4054" class="Symbol">)</a> <a id="4056" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4062" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4069" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="4071" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a> <a id="4074" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4076" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4083" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a> <a id="4085" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a>  <a id="4089" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4092" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">≡.sym</a> <a id="4098" class="Symbol">(</a><a id="4099" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4107" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="4109" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a><a id="4110" class="Symbol">)</a> <a id="4112" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4118" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4125" class="Symbol">(</a><a id="4126" href="Ledger.TokenAlgebra.ValueSet.html#3924" class="Bound">v</a> <a id="4128" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4130" href="Ledger.TokenAlgebra.ValueSet.html#3922" class="Bound">u</a><a id="4131" class="Symbol">)</a> <a id="4133" href="Ledger.TokenAlgebra.ValueSet.html#3927" class="Bound">aa</a>          <a id="4145" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a>

  <a id="4150" href="Ledger.TokenAlgebra.ValueSet.html#4150" class="Function">⊕-assoc</a> <a id="4158" class="Symbol">:</a> <a id="4160" href="Algebra.Definitions.html#1433" class="Function">Algebra.Associative</a> <a id="4180" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="4184" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a>
  <a id="4190" href="Ledger.TokenAlgebra.ValueSet.html#4150" class="Function">⊕-assoc</a> <a id="4198" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4200" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4202" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4204" class="Symbol">{</a><a id="4205" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a><a id="4206" class="Symbol">}</a> <a id="4208" class="Symbol">=</a> <a id="4210" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
    <a id="4220" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4227" class="Symbol">((</a><a id="4229" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4231" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4233" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a><a id="4234" class="Symbol">)</a> <a id="4236" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4238" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a><a id="4239" class="Symbol">)</a> <a id="4241" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a>                  <a id="4260" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4263" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4271" class="Symbol">(</a><a id="4272" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4274" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4276" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a><a id="4277" class="Symbol">)</a> <a id="4279" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4281" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4287" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4294" class="Symbol">(</a><a id="4295" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4297" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4299" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a><a id="4300" class="Symbol">)</a> <a id="4302" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4304" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4306" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4313" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4315" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a>           <a id="4327" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4330" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="4335" class="Symbol">(</a><a id="4336" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="4339" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4346" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4348" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a><a id="4349" class="Symbol">)</a> <a id="4351" class="Symbol">(</a><a id="4352" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4360" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4362" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a><a id="4363" class="Symbol">)</a> <a id="4365" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4371" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4378" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4380" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4382" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4384" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4391" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4393" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4395" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4397" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4404" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4406" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a>    <a id="4411" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4414" href="Data.Nat.Properties.html#14444" class="Function">+-assoc</a> <a id="4422" class="Symbol">(</a><a id="4423" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4430" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4432" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a><a id="4433" class="Symbol">)</a> <a id="4435" class="Symbol">(</a><a id="4436" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4443" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4445" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a><a id="4446" class="Symbol">)</a> <a id="4448" class="Symbol">(</a><a id="4449" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4456" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4458" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a><a id="4459" class="Symbol">)</a> <a id="4461" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4467" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4474" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4476" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4478" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4480" class="Symbol">(</a><a id="4481" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4488" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4490" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4492" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4494" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4501" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a> <a id="4503" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a><a id="4504" class="Symbol">)</a>  <a id="4507" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4510" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="4515" class="Symbol">(</a><a id="4516" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4523" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4525" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4527" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="4529" class="Symbol">)</a> <a id="4531" class="Symbol">(</a><a id="4532" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">≡.sym</a> <a id="4538" class="Symbol">(</a><a id="4539" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4547" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4549" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a><a id="4550" class="Symbol">))</a> <a id="4553" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4559" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4566" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4568" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a> <a id="4570" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4572" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4579" class="Symbol">(</a><a id="4580" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4582" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4584" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a><a id="4585" class="Symbol">)</a> <a id="4587" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a>           <a id="4599" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4602" href="Relation.Binary.PropositionalEquality.Core.html#1698" class="Function">≡.sym</a> <a id="4608" class="Symbol">(</a><a id="4609" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4617" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4619" class="Symbol">(</a><a id="4620" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4622" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4624" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a><a id="4625" class="Symbol">))</a> <a id="4628" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4634" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4641" class="Symbol">(</a><a id="4642" href="Ledger.TokenAlgebra.ValueSet.html#4198" class="Bound">x</a> <a id="4644" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4646" class="Symbol">(</a><a id="4647" href="Ledger.TokenAlgebra.ValueSet.html#4200" class="Bound">y</a> <a id="4649" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4651" href="Ledger.TokenAlgebra.ValueSet.html#4202" class="Bound">z</a><a id="4652" class="Symbol">))</a> <a id="4655" href="Ledger.TokenAlgebra.ValueSet.html#4205" class="Bound">a</a>                  <a id="4674" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a>

  <a id="4679" href="Ledger.TokenAlgebra.ValueSet.html#4679" class="Function">ι-identity</a> <a id="4690" class="Symbol">:</a> <a id="4692" href="Algebra.Definitions.html#1741" class="Function">Algebra.Identity</a> <a id="4709" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="4713" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="4715" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a>
  <a id="4721" href="Ledger.TokenAlgebra.ValueSet.html#4679" class="Function">ι-identity</a> <a id="4732" class="Symbol">.</a><a id="4733" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="4739" href="Ledger.TokenAlgebra.ValueSet.html#4739" class="Bound">tm</a> <a id="4742" class="Symbol">{</a><a id="4743" href="Ledger.TokenAlgebra.ValueSet.html#4743" class="Bound">aa</a><a id="4745" class="Symbol">}</a> <a id="4747" class="Symbol">=</a> <a id="4749" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
    <a id="4759" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4766" class="Symbol">(</a><a id="4767" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="4769" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4771" href="Ledger.TokenAlgebra.ValueSet.html#4739" class="Bound">tm</a><a id="4773" class="Symbol">)</a> <a id="4775" href="Ledger.TokenAlgebra.ValueSet.html#4743" class="Bound">aa</a>          <a id="4787" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4790" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4798" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="4800" href="Ledger.TokenAlgebra.ValueSet.html#4739" class="Bound">tm</a> <a id="4803" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4809" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4816" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="4818" href="Ledger.TokenAlgebra.ValueSet.html#4743" class="Bound">aa</a> <a id="4821" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="4823" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4830" href="Ledger.TokenAlgebra.ValueSet.html#4739" class="Bound">tm</a> <a id="4833" href="Ledger.TokenAlgebra.ValueSet.html#4743" class="Bound">aa</a>  <a id="4837" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4840" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="4845" class="Symbol">(</a><a id="4846" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="4849" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4856" href="Ledger.TokenAlgebra.ValueSet.html#4739" class="Bound">tm</a> <a id="4859" href="Ledger.TokenAlgebra.ValueSet.html#4743" class="Bound">aa</a><a id="4861" class="Symbol">)</a> <a id="4863" href="Ledger.TokenAlgebra.ValueSet.html#3298" class="Function">lookupι≡0</a> <a id="4873" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4879" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4886" href="Ledger.TokenAlgebra.ValueSet.html#4739" class="Bound">tm</a> <a id="4889" href="Ledger.TokenAlgebra.ValueSet.html#4743" class="Bound">aa</a>                <a id="4907" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a>
  <a id="4911" href="Ledger.TokenAlgebra.ValueSet.html#4679" class="Function">ι-identity</a> <a id="4922" class="Symbol">.</a><a id="4923" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="4929" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="4932" class="Symbol">{</a><a id="4933" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a><a id="4935" class="Symbol">}</a> <a id="4937" class="Symbol">=</a> <a id="4939" href="Relation.Binary.PropositionalEquality.Core.html#2820" class="Function Operator">begin</a>
    <a id="4949" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="4956" class="Symbol">(</a><a id="4957" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="4960" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">⊕</a> <a id="4962" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a><a id="4963" class="Symbol">)</a> <a id="4965" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a>          <a id="4977" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="4980" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="4988" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="4991" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="4993" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="4999" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="5006" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="5009" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a> <a id="5012" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="5014" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="5021" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a> <a id="5023" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a>  <a id="5027" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="5030" href="Relation.Binary.PropositionalEquality.Core.html#1144" class="Function">cong</a> <a id="5035" class="Symbol">(</a><a id="5036" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="5043" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="5046" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a> <a id="5049" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="5051" class="Symbol">)</a> <a id="5053" href="Ledger.TokenAlgebra.ValueSet.html#3298" class="Function">lookupι≡0</a> <a id="5063" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="5069" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="5076" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="5079" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a> <a id="5082" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="5084" class="Number">0</a>            <a id="5097" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">≡⟨</a> <a id="5100" href="Data.Nat.Properties.html#14600" class="Function">+-identityʳ</a> <a id="5112" class="Symbol">(</a><a id="5113" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="5120" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="5123" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a><a id="5125" class="Symbol">)</a> <a id="5127" href="Relation.Binary.PropositionalEquality.Core.html#2937" class="Function">⟩</a>
    <a id="5133" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="5140" href="Ledger.TokenAlgebra.ValueSet.html#4929" class="Bound">tm</a> <a id="5143" href="Ledger.TokenAlgebra.ValueSet.html#4933" class="Bound">aa</a>                <a id="5161" href="Relation.Binary.PropositionalEquality.Core.html#3119" class="Function Operator">∎</a>

  <a id="5166" class="Keyword">open</a> <a id="5171" href="Algebra.Structures.html#2789" class="Module">IsSemigroup</a>
  <a id="5185" class="Keyword">open</a> <a id="5190" href="Algebra.Structures.html#1117" class="Module">IsMagma</a>
  <a id="5200" href="Ledger.TokenAlgebra.ValueSet.html#5200" class="Function">isSemigrp</a> <a id="5210" class="Symbol">:</a> <a id="5212" href="Algebra.Structures.html#2789" class="Record">IsSemigroup</a> <a id="5224" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="5228" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a>
  <a id="5234" href="Ledger.TokenAlgebra.ValueSet.html#5200" class="Function">isSemigrp</a> <a id="5244" class="Symbol">.</a><a id="5245" href="Algebra.Structures.html#2845" class="Field">isMagma</a> <a id="5253" class="Symbol">.</a><a id="5254" href="Algebra.Structures.html#1169" class="Field">isEquivalence</a>        <a id="5275" class="Symbol">=</a> <a id="5277" href="Ledger.TokenAlgebra.ValueSet.html#3471" class="Function">≋-isEquivalence</a>
  <a id="5295" href="Ledger.TokenAlgebra.ValueSet.html#5200" class="Function">isSemigrp</a> <a id="5305" class="Symbol">.</a><a id="5306" href="Algebra.Structures.html#2845" class="Field">isMagma</a> <a id="5314" class="Symbol">.</a><a id="5315" href="Algebra.Structures.html#1207" class="Field">∙-cong</a> <a id="5322" class="Symbol">{</a><a id="5323" href="Ledger.TokenAlgebra.ValueSet.html#5323" class="Bound">u</a><a id="5324" class="Symbol">}{</a><a id="5326" href="Ledger.TokenAlgebra.ValueSet.html#5326" class="Bound">v</a><a id="5327" class="Symbol">}{</a><a id="5329" href="Ledger.TokenAlgebra.ValueSet.html#5329" class="Bound">x</a><a id="5330" class="Symbol">}{</a><a id="5332" href="Ledger.TokenAlgebra.ValueSet.html#5332" class="Bound">y</a><a id="5333" class="Symbol">}</a>  <a id="5336" class="Symbol">=</a> <a id="5338" href="Ledger.TokenAlgebra.ValueSet.html#3612" class="Function">⊕-cong</a> <a id="5345" class="Symbol">{</a><a id="5346" href="Ledger.TokenAlgebra.ValueSet.html#5323" class="Bound">u</a><a id="5347" class="Symbol">}{</a><a id="5349" href="Ledger.TokenAlgebra.ValueSet.html#5326" class="Bound">v</a><a id="5350" class="Symbol">}{</a><a id="5352" href="Ledger.TokenAlgebra.ValueSet.html#5329" class="Bound">x</a><a id="5353" class="Symbol">}{</a><a id="5355" href="Ledger.TokenAlgebra.ValueSet.html#5332" class="Bound">y</a><a id="5356" class="Symbol">}</a>
  <a id="5360" href="Ledger.TokenAlgebra.ValueSet.html#5200" class="Function">isSemigrp</a> <a id="5370" class="Symbol">.</a><a id="5371" href="Algebra.Structures.html#2869" class="Field">assoc</a>                         <a id="5401" class="Symbol">=</a> <a id="5403" href="Ledger.TokenAlgebra.ValueSet.html#4150" class="Function">⊕-assoc</a>

  <a id="5414" class="Keyword">open</a> <a id="5419" href="Algebra.Structures.html#3866" class="Module">IsMonoid</a>
  <a id="5430" href="Ledger.TokenAlgebra.ValueSet.html#5430" class="Function">≋-⊕-ι-isMonoid</a> <a id="5445" class="Symbol">:</a> <a id="5447" href="Algebra.Structures.html#3866" class="Record">IsMonoid</a> <a id="5456" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a> <a id="5460" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a> <a id="5464" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a>
  <a id="5468" href="Ledger.TokenAlgebra.ValueSet.html#5430" class="Function">≋-⊕-ι-isMonoid</a> <a id="5483" class="Symbol">.</a><a id="5484" href="Algebra.Structures.html#3927" class="Field">isSemigroup</a>  <a id="5497" class="Symbol">=</a> <a id="5499" href="Ledger.TokenAlgebra.ValueSet.html#5200" class="Function">isSemigrp</a>
  <a id="5511" href="Ledger.TokenAlgebra.ValueSet.html#5430" class="Function">≋-⊕-ι-isMonoid</a> <a id="5526" class="Symbol">.</a><a id="5527" href="Algebra.Structures.html#3959" class="Field">identity</a>     <a id="5540" class="Symbol">=</a> <a id="5542" href="Ledger.TokenAlgebra.ValueSet.html#4679" class="Function">ι-identity</a>
<a id="5553" class="Markup">\end{code}</a><a id="5563" class="Background">

We are now in a position to define the commutative monoid.

</a><a id="5625" class="Markup">\begin{code}</a>
  <a id="5640" class="Keyword">open</a> <a id="5645" href="Algebra.Structures.html#4276" class="Module">IsCommutativeMonoid</a>
  <a id="5667" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5671" class="Symbol">:</a> <a id="5673" href="Algebra.Bundles.html#6578" class="Record">CommutativeMonoid</a> <a id="5691" href="Level.html#512" class="Function">0ℓ</a> <a id="5694" href="Level.html#512" class="Function">0ℓ</a>
  <a id="5699" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5703" class="Symbol">.</a><a id="5704" href="Algebra.Bundles.html#6668" class="Field">Carrier</a>                        <a id="5735" class="Symbol">=</a> <a id="5737" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="5745" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="5747" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a>
  <a id="5758" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5762" class="Symbol">.</a><a id="5763" href="Algebra.Bundles.html#6700" class="Field Operator">_≈_</a>                            <a id="5794" class="Symbol">=</a> <a id="5796" href="Ledger.TokenAlgebra.ValueSet.html#3379" class="Function Operator">_≋_</a>
  <a id="5802" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5806" class="Symbol">.</a><a id="5807" href="Ledger.TokenAlgebra.ValueSet.html#2679" class="Field Operator">_⋆_</a>                            <a id="5838" class="Symbol">=</a> <a id="5840" href="Ledger.TokenAlgebra.ValueSet.html#2944" class="Function Operator">_⊕_</a>
  <a id="5846" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5850" class="Symbol">.</a><a id="5851" href="Algebra.Bundles.html#6778" class="Field">ε</a>                              <a id="5882" class="Symbol">=</a> <a id="5884" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a>
  <a id="5888" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5892" class="Symbol">.</a><a id="5893" href="Algebra.Bundles.html#6812" class="Field">isCommutativeMonoid</a> <a id="5913" class="Symbol">.</a><a id="5914" href="Algebra.Structures.html#4348" class="Field">isMonoid</a>  <a id="5924" class="Symbol">=</a> <a id="5926" href="Ledger.TokenAlgebra.ValueSet.html#5430" class="Function">≋-⊕-ι-isMonoid</a>
  <a id="5943" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a> <a id="5947" class="Symbol">.</a><a id="5948" href="Algebra.Bundles.html#6812" class="Field">isCommutativeMonoid</a> <a id="5968" class="Symbol">.</a><a id="5969" href="Algebra.Structures.html#4376" class="Field">comm</a>      <a id="5979" class="Symbol">=</a> <a id="5981" href="Ledger.TokenAlgebra.ValueSet.html#3876" class="Function">⊕-comm</a>

  <a id="5991" href="Ledger.TokenAlgebra.ValueSet.html#5991" class="Function">Value-TokenAlgebra</a> <a id="6010" class="Symbol">:</a>  <a id="6013" class="Symbol">(</a><a id="6014" href="Ledger.TokenAlgebra.ValueSet.html#6014" class="Bound">specialPolicy</a> <a id="6028" class="Symbol">:</a> <a id="6030" href="Ledger.TokenAlgebra.ValueSet.html#217" class="Bound">PolicyId</a><a id="6038" class="Symbol">)</a>
                        <a id="6064" class="Symbol">(</a><a id="6065" href="Ledger.TokenAlgebra.ValueSet.html#6065" class="Bound">specialAsset</a> <a id="6078" class="Symbol">:</a> <a id="6080" href="Ledger.TokenAlgebra.ValueSet.html#226" class="Bound">AssetName</a><a id="6089" class="Symbol">)</a>
                        <a id="6115" class="Symbol">(</a><a id="6116" href="Ledger.TokenAlgebra.ValueSet.html#6116" class="Bound">size</a> <a id="6121" class="Symbol">:</a> <a id="6123" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="6131" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="6133" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="6142" class="Symbol">→</a> <a id="6144" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="6145" class="Symbol">)</a>
                        <a id="6171" class="Symbol">{</a><a id="6172" href="Ledger.TokenAlgebra.ValueSet.html#6172" class="Bound">decTot</a> <a id="6179" class="Symbol">:</a> <a id="6181" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="6187" class="Symbol">(</a><a id="6188" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="6196" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="6198" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a><a id="6206" class="Symbol">)}</a>
                        <a id="6233" class="Comment">--------------------------------------</a>
                        <a id="6296" class="Symbol">→</a> <a id="6298" href="Ledger.TokenAlgebra.html#499" class="Record">TokenAlgebra</a>

  <a id="6314" href="Ledger.TokenAlgebra.ValueSet.html#5991" class="Function">Value-TokenAlgebra</a> <a id="6333" href="Ledger.TokenAlgebra.ValueSet.html#6333" class="Bound">specialPolicy</a> <a id="6347" href="Ledger.TokenAlgebra.ValueSet.html#6347" class="Bound">specialAsset</a> <a id="6360" href="Ledger.TokenAlgebra.ValueSet.html#6360" class="Bound">size</a> <a id="6365" class="Symbol">{</a><a id="6366" href="Ledger.TokenAlgebra.ValueSet.html#6366" class="Bound">decTot</a><a id="6372" class="Symbol">}</a> <a id="6374" class="Symbol">=</a>
    <a id="6380" class="Keyword">record</a>
      <a id="6393" class="Symbol">{</a> <a id="6395" href="Ledger.TokenAlgebra.html#534" class="Field">Value-CommutativeMonoid</a>   <a id="6421" class="Symbol">=</a> <a id="6423" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a>
      <a id="6433" class="Symbol">;</a> <a id="6435" href="Ledger.TokenAlgebra.html#924" class="Field">coin</a>                      <a id="6461" class="Symbol">=</a> <a id="6463" href="Ledger.TokenAlgebra.ValueSet.html#6994" class="Function">totalMap↠coin</a>
      <a id="6483" class="Symbol">;</a> <a id="6485" href="Ledger.TokenAlgebra.html#974" class="Field">inject</a>                    <a id="6511" class="Symbol">=</a> <a id="6513" href="Ledger.TokenAlgebra.ValueSet.html#7081" class="Function">coin↪totalMap</a>
      <a id="6533" class="Symbol">;</a> <a id="6535" href="Ledger.TokenAlgebra.html#1024" class="Field">policies</a>                  <a id="6561" class="Symbol">=</a> <a id="6563" href="Ledger.TokenAlgebra.ValueSet.html#7176" class="Function">policies</a>
      <a id="6578" class="Symbol">;</a> <a id="6580" href="Ledger.TokenAlgebra.html#1080" class="Field">size</a>                      <a id="6606" class="Symbol">=</a> <a id="6608" href="Ledger.TokenAlgebra.ValueSet.html#6360" class="Bound">size</a>
      <a id="6619" class="Symbol">;</a> <a id="6621" href="Ledger.TokenAlgebra.html#1140" class="Field Operator">_≤ᵗ_</a>                      <a id="6647" class="Symbol">=</a> <a id="6649" href="Ledger.TokenAlgebra.ValueSet.html#7261" class="Function">leq</a>
      <a id="6659" class="Symbol">;</a> <a id="6661" href="Ledger.TokenAlgebra.html#1197" class="Field">AssetName</a>                 <a id="6687" class="Symbol">=</a> <a id="6689" href="Ledger.TokenAlgebra.ValueSet.html#226" class="Bound">AssetName</a>
      <a id="6705" class="Symbol">;</a> <a id="6707" href="Ledger.TokenAlgebra.html#1238" class="Field">specialAsset</a>              <a id="6733" class="Symbol">=</a> <a id="6735" href="Ledger.TokenAlgebra.ValueSet.html#6347" class="Bound">specialAsset</a>
      <a id="6754" class="Symbol">;</a> <a id="6756" href="Ledger.TokenAlgebra.html#1285" class="Field">property</a>                  <a id="6782" class="Symbol">=</a> <a id="6784" href="Ledger.TokenAlgebra.ValueSet.html#7387" class="Function">compose-to-id</a>
      <a id="6804" class="Symbol">;</a> <a id="6806" href="Ledger.TokenAlgebra.html#1341" class="Field">coinIsMonoidHomomorphism</a>  <a id="6832" class="Symbol">=</a> <a id="6834" href="Ledger.TokenAlgebra.ValueSet.html#7973" class="Function">CoinMonHom</a>
      <a id="6851" class="Symbol">;</a> <a id="6853" href="Ledger.TokenAlgebra.html#1443" class="Field">DecEq-Value</a>               <a id="6879" class="Symbol">=</a> <a id="6881" href="Ledger.TokenAlgebra.ValueSet.html#6366" class="Bound">decTot</a>
      <a id="6894" class="Symbol">}</a>
    <a id="6900" class="Keyword">where</a>

    <a id="6911" href="Ledger.TokenAlgebra.ValueSet.html#6911" class="Function">specId</a> <a id="6918" class="Symbol">:</a> <a id="6920" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a>
    <a id="6932" href="Ledger.TokenAlgebra.ValueSet.html#6911" class="Function">specId</a> <a id="6939" class="Symbol">=</a> <a id="6941" class="Symbol">(</a><a id="6942" href="Ledger.TokenAlgebra.ValueSet.html#6333" class="Bound">specialPolicy</a> <a id="6956" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6958" href="Ledger.TokenAlgebra.ValueSet.html#6347" class="Bound">specialAsset</a><a id="6970" class="Symbol">)</a>

    <a id="6977" class="Keyword">open</a> <a id="6982" href="Axiom.Set.TotalMap.html#1437" class="Module">Update</a>

    <a id="6994" href="Ledger.TokenAlgebra.ValueSet.html#6994" class="Function">totalMap↠coin</a> <a id="7008" class="Symbol">:</a> <a id="7010" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="7018" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="7020" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="7029" class="Symbol">→</a> <a id="7031" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="7040" href="Ledger.TokenAlgebra.ValueSet.html#6994" class="Function">totalMap↠coin</a> <a id="7054" href="Ledger.TokenAlgebra.ValueSet.html#7054" class="Bound">tm</a> <a id="7057" class="Symbol">=</a> <a id="7059" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="7066" href="Ledger.TokenAlgebra.ValueSet.html#7054" class="Bound">tm</a> <a id="7069" href="Ledger.TokenAlgebra.ValueSet.html#6911" class="Function">specId</a>

    <a id="7081" href="Ledger.TokenAlgebra.ValueSet.html#7081" class="Function">coin↪totalMap</a> <a id="7095" class="Symbol">:</a> <a id="7097" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="7102" class="Symbol">→</a> <a id="7104" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="7112" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="7114" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a>
    <a id="7127" href="Ledger.TokenAlgebra.ValueSet.html#7081" class="Function">coin↪totalMap</a> <a id="7141" href="Ledger.TokenAlgebra.ValueSet.html#7141" class="Bound">c</a> <a id="7143" class="Symbol">=</a> <a id="7145" href="Axiom.Set.TotalMap.html#2086" class="Function">update</a> <a id="7152" class="Symbol">⦃</a> <a id="7154" href="Ledger.TokenAlgebra.ValueSet.html#2812" class="Bound">dec</a> <a id="7158" class="Symbol">⦄</a> <a id="7160" href="Ledger.TokenAlgebra.ValueSet.html#6911" class="Function">specId</a> <a id="7167" href="Ledger.TokenAlgebra.ValueSet.html#7141" class="Bound">c</a> <a id="7169" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a>

    <a id="7176" href="Ledger.TokenAlgebra.ValueSet.html#7176" class="Function">policies</a> <a id="7185" class="Symbol">:</a> <a id="7187" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="7195" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="7197" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="7206" class="Symbol">→</a> <a id="7208" href="Ledger.Prelude.html#1583" class="Function Operator">ℙ</a> <a id="7210" href="Ledger.TokenAlgebra.ValueSet.html#217" class="Bound">PolicyId</a>
    <a id="7223" href="Ledger.TokenAlgebra.ValueSet.html#7176" class="Function">policies</a> <a id="7232" href="Ledger.TokenAlgebra.ValueSet.html#7232" class="Bound">tm</a> <a id="7235" class="Symbol">=</a> <a id="7237" href="Axiom.Set.Rel.html#1551" class="Function">dom</a> <a id="7241" class="Symbol">(</a><a id="7242" href="Axiom.Set.Rel.html#1551" class="Function">dom</a> <a id="7246" class="Symbol">(</a><a id="7247" href="Axiom.Set.TotalMap.html#868" class="Field">rel</a> <a id="7251" href="Ledger.TokenAlgebra.ValueSet.html#7232" class="Bound">tm</a><a id="7253" class="Symbol">))</a>

    <a id="7261" href="Ledger.TokenAlgebra.ValueSet.html#7261" class="Function">leq</a> <a id="7265" class="Symbol">:</a> <a id="7267" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="7275" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="7277" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="7286" class="Symbol">→</a> <a id="7288" href="Ledger.TokenAlgebra.ValueSet.html#2713" class="Function">AssetId</a> <a id="7296" href="Ledger.TokenAlgebra.ValueSet.html#375" class="Record Operator">⇒</a> <a id="7298" href="Ledger.TokenAlgebra.ValueSet.html#2910" class="Function">Quantity</a> <a id="7307" class="Symbol">→</a> <a id="7309" href="Ledger.TokenAlgebra.ValueSet.html#173" class="Primitive">Type</a>
    <a id="7318" href="Ledger.TokenAlgebra.ValueSet.html#7261" class="Function">leq</a> <a id="7322" class="Symbol">=</a> <a id="7324" class="Symbol">λ</a> <a id="7326" href="Ledger.TokenAlgebra.ValueSet.html#7326" class="Bound">u</a> <a id="7328" href="Ledger.TokenAlgebra.ValueSet.html#7328" class="Bound">v</a> <a id="7330" class="Symbol">→</a> <a id="7332" class="Symbol">∀</a> <a id="7334" class="Symbol">{</a><a id="7335" href="Ledger.TokenAlgebra.ValueSet.html#7335" class="Bound">a</a><a id="7336" class="Symbol">}{</a><a id="7338" href="Ledger.TokenAlgebra.ValueSet.html#7338" class="Bound">p</a><a id="7339" class="Symbol">}{</a><a id="7341" href="Ledger.TokenAlgebra.ValueSet.html#7341" class="Bound">q</a><a id="7342" class="Symbol">}</a> <a id="7344" class="Symbol">→</a> <a id="7346" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="7353" href="Ledger.TokenAlgebra.ValueSet.html#7326" class="Bound">u</a> <a id="7355" class="Symbol">(</a><a id="7356" href="Ledger.TokenAlgebra.ValueSet.html#7335" class="Bound">a</a> <a id="7358" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7360" href="Ledger.TokenAlgebra.ValueSet.html#7338" class="Bound">p</a><a id="7361" class="Symbol">)</a> <a id="7363" href="Data.Nat.Base.html#1535" class="Datatype Operator">≤</a> <a id="7365" href="Axiom.Set.TotalMap.html#1035" class="Function">lookup</a> <a id="7372" href="Ledger.TokenAlgebra.ValueSet.html#7328" class="Bound">v</a> <a id="7374" class="Symbol">(</a><a id="7375" href="Ledger.TokenAlgebra.ValueSet.html#7335" class="Bound">a</a> <a id="7377" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7379" href="Ledger.TokenAlgebra.ValueSet.html#7341" class="Bound">q</a><a id="7380" class="Symbol">)</a>

    <a id="7387" href="Ledger.TokenAlgebra.ValueSet.html#7387" class="Function">compose-to-id</a> <a id="7401" class="Symbol">:</a> <a id="7403" href="Ledger.TokenAlgebra.ValueSet.html#6994" class="Function">totalMap↠coin</a> <a id="7417" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="7419" href="Ledger.TokenAlgebra.ValueSet.html#7081" class="Function">coin↪totalMap</a> <a id="7433" href="Relation.Binary.PropositionalEquality.html#1475" class="Function Operator">≗</a> <a id="7435" href="Function.Base.html#695" class="Function">id</a>
    <a id="7442" href="Ledger.TokenAlgebra.ValueSet.html#7387" class="Function">compose-to-id</a> <a id="7456" class="Symbol">_</a> <a id="7458" class="Symbol">=</a> <a id="7460" href="Axiom.Set.TotalMap.html#2485" class="Function">lookup-update-id</a> <a id="7477" href="Ledger.TokenAlgebra.ValueSet.html#3245" class="Function">ι</a>
      <a id="7485" class="Keyword">where</a> <a id="7491" class="Keyword">open</a> <a id="7496" href="Axiom.Set.TotalMap.html#2186" class="Module">LookupUpdate</a> <a id="7509" class="Symbol">{</a><a id="7510" class="Argument">X</a> <a id="7512" class="Symbol">=</a> <a id="7514" href="Ledger.TokenAlgebra.ValueSet.html#2772" class="Bound">X</a><a id="7515" class="Symbol">}</a> <a id="7517" class="Symbol">{</a><a id="7518" href="Ledger.TokenAlgebra.ValueSet.html#6911" class="Function">specId</a><a id="7524" class="Symbol">}</a> <a id="7526" class="Symbol">{</a><a id="7527" href="Ledger.TokenAlgebra.ValueSet.html#2790" class="Bound">⋁A</a><a id="7529" class="Symbol">}</a>

    <a id="7536" class="Keyword">open</a> <a id="7541" href="Algebra.Bundles.html#6578" class="Module">CommutativeMonoid</a> <a id="7559" href="Ledger.TokenAlgebra.ValueSet.html#5667" class="Function">Vcm</a>                    <a id="7582" class="Keyword">using</a> <a id="7588" class="Symbol">()</a> <a id="7591" class="Keyword">renaming</a> <a id="7600" class="Symbol">(</a><a id="7601" href="Algebra.Bundles.html#6400" class="Function">rawMonoid</a> <a id="7611" class="Symbol">to</a> <a id="7614" class="Function">Vcm-mon</a><a id="7621" class="Symbol">)</a>
    <a id="7627" class="Keyword">open</a> <a id="7632" href="Algebra.Bundles.html#6578" class="Module">CommutativeMonoid</a> <a id="7650" href="Data.Nat.Properties.html#16466" class="Function">+-0-commutativeMonoid</a>  <a id="7673" class="Keyword">using</a> <a id="7679" class="Symbol">()</a> <a id="7682" class="Keyword">renaming</a> <a id="7691" class="Symbol">(</a><a id="7692" href="Algebra.Bundles.html#6400" class="Function">rawMonoid</a> <a id="7702" class="Symbol">to</a> <a id="7705" class="Function">ℕ-mon</a><a id="7710" class="Symbol">)</a>
    <a id="7716" class="Keyword">open</a> <a id="7721" href="Algebra.Morphism.Structures.html#2756" class="Module">IsMonoidHomomorphism</a>                     <a id="7762" class="Keyword">using</a> <a id="7768" class="Symbol">(</a><a id="7769" href="Algebra.Morphism.Structures.html#2833" class="Field">isMagmaHomomorphism</a> <a id="7789" class="Symbol">;</a> <a id="7791" href="Algebra.Morphism.Structures.html#2885" class="Field">ε-homo</a><a id="7797" class="Symbol">)</a>
    <a id="7803" class="Keyword">open</a> <a id="7808" href="Algebra.Morphism.Structures.html#1103" class="Module">IsMagmaHomomorphism</a>                      <a id="7849" class="Keyword">using</a> <a id="7855" class="Symbol">(</a><a id="7856" href="Algebra.Morphism.Structures.html#1179" class="Field">isRelHomomorphism</a> <a id="7874" class="Symbol">;</a> <a id="7876" href="Algebra.Morphism.Structures.html#1237" class="Field">homo</a><a id="7880" class="Symbol">)</a>
    <a id="7886" class="Keyword">open</a> <a id="7891" href="Relation.Binary.Morphism.Structures.html#706" class="Module">IsRelHomomorphism</a>                        <a id="7932" class="Keyword">using</a> <a id="7938" class="Symbol">()</a> <a id="7941" class="Keyword">renaming</a> <a id="7950" class="Symbol">(</a><a id="7951" href="Relation.Binary.Morphism.Structures.html#837" class="Field">cong</a> <a id="7956" class="Symbol">to</a> <a id="7959" class="Field">⟦⟧-cong</a><a id="7966" class="Symbol">)</a>

    <a id="7973" href="Ledger.TokenAlgebra.ValueSet.html#7973" class="Function">CoinMonHom</a> <a id="7984" class="Symbol">:</a> <a id="7986" href="Algebra.Morphism.Structures.html#2756" class="Record">IsMonoidHomomorphism</a> <a id="8007" href="Ledger.TokenAlgebra.ValueSet.html#7614" class="Function">Vcm-mon</a> <a id="8015" href="Ledger.TokenAlgebra.ValueSet.html#7705" class="Function">ℕ-mon</a> <a id="8021" href="Ledger.TokenAlgebra.ValueSet.html#6994" class="Function">totalMap↠coin</a>
    <a id="8039" href="Ledger.TokenAlgebra.ValueSet.html#7973" class="Function">CoinMonHom</a> <a id="8050" class="Symbol">.</a><a id="8051" href="Algebra.Morphism.Structures.html#2833" class="Field">isMagmaHomomorphism</a> <a id="8071" class="Symbol">.</a><a id="8072" href="Algebra.Morphism.Structures.html#1179" class="Field">isRelHomomorphism</a> <a id="8090" class="Symbol">.</a><a id="8091" href="Ledger.TokenAlgebra.ValueSet.html#7959" class="Field">⟦⟧-cong</a>  <a id="8100" class="Symbol">=</a> <a id="8102" class="Symbol">λ</a> <a id="8104" href="Ledger.TokenAlgebra.ValueSet.html#8104" class="Bound">x</a> <a id="8106" class="Symbol">→</a> <a id="8108" href="Ledger.TokenAlgebra.ValueSet.html#8104" class="Bound">x</a>
    <a id="8114" href="Ledger.TokenAlgebra.ValueSet.html#7973" class="Function">CoinMonHom</a> <a id="8125" class="Symbol">.</a><a id="8126" href="Algebra.Morphism.Structures.html#2833" class="Field">isMagmaHomomorphism</a> <a id="8146" class="Symbol">.</a><a id="8147" href="Algebra.Morphism.Structures.html#1237" class="Field">homo</a>                        <a id="8175" class="Symbol">=</a> <a id="8177" class="Symbol">λ</a> <a id="8179" href="Ledger.TokenAlgebra.ValueSet.html#8179" class="Bound">x</a> <a id="8181" href="Ledger.TokenAlgebra.ValueSet.html#8181" class="Bound">y</a> <a id="8183" class="Symbol">→</a> <a id="8185" href="Ledger.TokenAlgebra.ValueSet.html#3038" class="Function">⊕-lemma</a> <a id="8193" href="Ledger.TokenAlgebra.ValueSet.html#8179" class="Bound">x</a> <a id="8195" href="Ledger.TokenAlgebra.ValueSet.html#8181" class="Bound">y</a>
    <a id="8201" href="Ledger.TokenAlgebra.ValueSet.html#7973" class="Function">CoinMonHom</a> <a id="8212" class="Symbol">.</a><a id="8213" href="Algebra.Morphism.Structures.html#2885" class="Field">ε-homo</a>                                           <a id="8262" class="Symbol">=</a> <a id="8264" href="Ledger.TokenAlgebra.ValueSet.html#3298" class="Function">lookupι≡0</a>
<a id="8274" class="Markup">\end{code}</a><a id="8284" class="Background">
</a></pre></body></html>